!function t(i,n,e){function s(r,h){if(!n[r]){if(!i[r]){var u="function"==typeof require&&require;if(!h&&u)return u(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[r]={t:{}};i[r][0].call(f.t,function(t){var n=i[r][1][t];return s(n||t)},f,f.t,t,i,n,e)}return n[r].t}for(var o="function"==typeof require&&require,r=0;r<e.length;r++)s(e[r]);return s}({1:[function(t,i,n){(function(i){var n,e=i.i,s=t("./src/GreulerAdapter"),o=t("./src/Graph"),r=t("./src/Animator"),h=t("./src/UrlState"),u=t("./src/ActionQueue"),c=t("./src/ResetButton"),f=new u,a=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),d=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));a<700&&(n=Math.floor(Math.min(a,d)*(1/15))),i.s=new s(e),i.o=new o({h:f,s:adapter,u:new r({h:f}),state:new h({l:window.location.protocol+"//"+window.location.host+window.location.pathname,_:window.history.replaceState.bind(window.history,{},""),g:new URLSearchParams(window.location.search)}),width:a,height:d,p:n,A:.1,v:250}),i.N=new c({h:f,m:[i.o]}),i.o.R(document.getElementById("main-graph")),i.N.R(document.getElementById("reset-button"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{O:2,M:3,P:6,C:7,I:9,D:10}],2:[function(t,i,n){(function(t){function n(i){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t)}n.prototype={defer:function(t,i){1==arguments.length&&(i=t,t=1),this.setTimeout(i,t)}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){function e(t){this.h=t&&t.h}function s(t,i){this.h=t,this.U=i,this.L=0,this.interval=100,this.B=function(){return!0}}e.prototype={F:function(){return this.G(),new s(this.h,Array.prototype.slice.call(arguments))},G:function(){if(!this.h)throw Error("ActionQueue is required")}},s.prototype={every:function(t){return this.interval=t,this},S:function(t){return this.B=t,this},play:function(){var t=function(){this.B()&&(this.U[this.L](),this.L=(this.L+1)%this.U.length,this.h.defer(this.interval,t))}.bind(this);t()}},i.t=e},{}],4:[function(t,i,n){function e(t){this.dimensions=t}e.prototype={k:function(t){var i=this.dimensions.right-this.dimensions.left,n=this.dimensions.bottom-this.dimensions.top;return new e({left:this.dimensions.left-i*t,right:this.dimensions.right+i*t,top:this.dimensions.top-n*t,bottom:this.dimensions.bottom+i*t})},translate:function(t){return new e({left:this.dimensions.left+t.x,right:this.dimensions.right+t.x,top:this.dimensions.top+t.y,bottom:this.dimensions.bottom+t.y})},contains:function(t){return this.dimensions.left<=t.x&&t.x<=this.dimensions.right&&this.dimensions.top<=t.y&&t.y<=this.dimensions.bottom}},i.t=e},{}],5:[function(t,i,n){function e(t){this.h=t&&t.h,this.K=t&&t.K||250,this.q=0,this.X=0,this.j=!1}e.prototype={T:function(){},H:function(){},R:function(t){this.W(),t.addEventListener("mouseup",function(t){this.X++,this.j?this.j=!1:this.T(t)}.bind(this)),t.addEventListener("mousedown",function(t){var i=++this.q;this.h.defer(this.K,function(){this.q===i&&this.X===this.q-1&&(this.j=!0,this.H(t))}.bind(this))}.bind(this)),this.V(t)},V:function(t){},W:function(){if(!this.h)throw Error("actionQueue is required")}},i.t=e},{}],6:[function(t,i,n){function e(t){s.apply(this,arguments),t&&(this.s=t.s,this.u=t.u,this.state=t.state,this.width=t.width,this.height=t.height,this.p=t.p,this.A=t.A,this.v=t.v||100),this.Y()}var s=t("./Component"),o=t("./colors"),r=t("./utils"),h=(t("./Logger"),[o.J,o.Z,o.$,o.tt,o.it,o.nt,o.et]);e.prototype=Object.assign(new s,{V:function(t){this.s.initialize(t,r.st({width:this.width,height:this.height,ot:this.state.rt().map(function(t){return r.st({id:t.id,color:t.color||h[0],label:"",size:this.p},{ht:["id","label"]})}.bind(this)),ut:this.state.ct()}))},T:function(t){var i=this.s.ft(t,this.A);this.at()?i.dt()&&i.id!==this.lt.id?(this.s.wt(this.lt,i),this.state._t(this.lt.id,i.id)):this.Et():i.dt()?this.gt(i):this.pt()},H:function(t){if(!this.at()){var i=this.s.ft(t,this.A);i.dt()&&this.At(i)}},reset:function(){this.s.vt(function(){this.state.rt().forEach(function(t){this.s.removeNode(t)}.bind(this)),this.state.rt().forEach(function(t){this.s.removeNode(t)}.bind(this))}.bind(this)),this.Y(),this.state.reset()},gt:function(t){var i=this.Nt(t.id),n=h[i];this.s.bt(t,n),this.Rt[t.id]=i,this.state.Ot(t.id,n)},pt:function(){var t=this.state.yt({color:h[0]}),i=r.st({id:t,color:h[0],label:"",size:this.p},{ht:["id","label"]});this.s.Mt(i)},Nt:function(t){return((this.Rt[t]||0)+1)%h.length},at:function(){return!!this.lt},At:function(t){if(!this.u)throw new Error("adapter is not present");this.lt=t,this.Pt=this.s.Ct(function(i){return i.id!==t.id}),this.u.F(this.It.bind(this),this.Dt.bind(this)).every(this.v).S(this.at.bind(this)).play()},Et:function(){this.lt=null,this.Dt(),this.Ut={}},W:function(){if(s.prototype.W.call(this,arguments),!this.s)throw new Error("adapter is not present");if(!this.u)throw new Error("animator is not present");if(!this.state)throw new Error("state is not present")},It:function(){this.Pt.forEach(function(t){this.Ut[t.id]||(this.Ut[t.id]=t.color),this.s.bt(t,o.Lt)}.bind(this))},Dt:function(){this.Pt.forEach(function(t){this.Ut[t.id]&&this.s.bt(t,this.Ut[t.id])}.bind(this))},Y:function(){this.Rt={},this.lt=null,this.Pt=[],this.Ut={}}}),i.t=e},{Bt:5,Ft:8,Gt:11,St:13}],7:[function(t,i,n){function e(t){this.i=t,this.xt=!1}function s(t){var i=t.bounds.kt-t.bounds.x,n=t.bounds.Kt-t.bounds.y;return{x:t.bounds.x+i/2,y:t.bounds.y+n/2}}var o=t("./graphelements"),r=t("./utils"),h=t("./BoundingBox"),u=t("./Logger");e.prototype={initialize:function(t,i){i=i||{},this.qt=this.i(r.st({target:"#"+t.id,width:i.width,height:i.height,data:r.st({ot:i.ot&&i.ot.map(this.Xt),links:i.ut})})).update(),this.o=this.qt.o},Mt:function(t){this.o.Mt(this.Xt(t));this.jt()},removeNode:function(t){this.o.removeNode(this.Xt(t));this.jt()},wt:function(t,i){this.o.wt({source:t.id,target:i.id});this.jt()},bt:function(t,i){if(t.zt)t.zt.setAttribute("fill",i);else if(t.id){var n=this.o.Qt({id:t.id});this.Tt(n).setAttribute("fill",i)}else u.error("Got unexpected target node",t)},ft:function(t,i){return this.Ht(t,i)||o.NONE},Ct:function(t){return t=t||function(){return!0},this.o.Wt(t).map(function(t){var i=this.Tt(t);return new o.Node({id:t.id,Vt:t,zt:i,color:i.getAttribute("fill")})}.bind(this))},vt:function(t){this.xt=!0,t(this),this.xt=!1,this.jt()},Xt:function(t){return r.st({id:t.id,fill:t.color,label:t.label||"",r:t.size},{ht:["id","label"]})},Tt:function(t){return this.qt.Yt[0][0].childNodes[t.index].getElementsByTagName("circle")[0]},Ht:function(t,i){i=i||0;var n=this.qt.root[0][0].getBoundingClientRect(),e={x:t.clientX,y:t.clientY},o=this.Ct(function(t){return new h({left:t.bounds.x,right:t.bounds.kt,top:t.bounds.y,bottom:t.bounds.Kt}).k(i).translate({x:n.left,y:n.top}).contains(e)});return o&&o.length?(o.sort(function(t,i){return r.Jt(s(t.Vt),e)-r.Jt(s(i.Vt),e)}),o[0]):void 0},jt:function(){this.xt||(this.qt=this.qt.update())}},i.t=e},{Zt:4,Ft:8,$t:12,St:13}],8:[function(t,i,n){(function(t){function n(){}n.prototype={debug:function(t,i){this.ti.apply(this,["DEBUG"].concat(Array.prototype.splice.call(arguments,0)))},warn:function(t,i){this.ti.apply(this,["WARN"].concat(Array.prototype.splice.call(arguments,0)))},error:function(t,i){this.ti.apply(this,["ERROR"].concat(Array.prototype.splice.call(arguments,0)))},ti:function(){t.console.log.apply(t.console.log,arguments)}},i.t=new n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,i,n){function e(t){s.apply(this,arguments),this.m=t?t.m:[]}var s=t("./Component");e.prototype=Object.assign(new s,{T:function(t){this.m.forEach(function(t){t.reset()})}}),i.t=e},{Bt:5}],10:[function(t,i,n){function e(t){this.l=t&&t.l,this._=t&&t._,this.g=t&&t.g}var s=t("./utils");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",e.prototype={yt:function(t){var i=this.ii();return this.g.set(NUM_NODES_PARAM,i+1),this.ni(),t&&t.color&&this.Ot(i,t.color),i},Ot:function(t,i){var n=this.ei(t);this.si().forEach(function(t){this.oi({ri:n,hi:t})&&this.ui({ri:n,hi:t})}.bind(this)),this.ci({ri:n,color:i}),this.ni()},_t:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this.g.has(e)?this.fi(e)|this.ei(i):this.ei(i),this.ai(e,n),this.ni()},rt:function(){var t=[];if(this.g.has(NUM_NODES_PARAM))for(var i=this.si(),n=0;n<this.g.get(NUM_NODES_PARAM);n++){var e=this.ei(n),o=i.find(function(t){return this.oi({ri:e,hi:t})}.bind(this));t.push(s.st({id:n,color:o&&o.replace(COLOR_PARAM_PREFIX,"#")},{ht:"id"}))}return t},ct:function(){return this.di().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.fi(t),s=e.toString(2).length,o=0;o<s;o++){var r=this.ei(o);(e&r)===r&&n.push({source:i,target:o})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},li:function(){return this.l+"?"+this.g.toString()},reset:function(){this.wi().forEach(function(t){this.g.delete(t)}.bind(this)),this.ni()},oi:function(t){return t=this._i(t),!!this.g.has(t.hi)&&(this.fi(t.hi)&t.ri)===t.ri},ci:function(t){t=this._i(t);var i;i=this.g.has(t.hi)?this.fi(t.hi)|t.ri:t.ri,this.ai(t.hi,i)},ui:function(t){if(t=this._i(t),!this.g.has(t.hi))throw Error("Attempted to remove color "+t.hi);var i=this.fi(t.hi)&~t.ri;0===i?this.g.delete(t.hi):this.ai(t.hi,i)},fi:function(t){return parseInt(this.g.get(t),16)},ai:function(t,i){this.g.set(t,i.toString(16))},ei:function(t){return t<=30?1<<t:Math.pow(2,t)},_i:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{ri:t.hasOwnProperty("bit")?t.ri:this.ei(t.Ei),hi:t.hasOwnProperty("colorKey")?t.hi:t.color.replace("#",COLOR_PARAM_PREFIX)}},si:function(){return this.wi(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},di:function(){return this.wi(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},wi:function(t){t=t||function(){return!0};for(var i=[],n=this.g.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},ii:function(){return this.g.has(NUM_NODES_PARAM)?parseInt(this.g.get(NUM_NODES_PARAM)):0},ni:function(){this._(this.li())}},i.t=e},{St:13}],11:[function(t,i,n){i.t={$:"#db190f",tt:"#f76402",it:"#fbff14",nt:"#28b92b",et:"#2826b5",J:"#2980B9",Z:"#8c28b7",Lt:"#00FF00"}},{}],12:[function(t,i,n){function e(t){t&&(this.id=t.id,this.zt=t.zt)}function s(t){e.apply(this,arguments),t&&(this.Vt=t.Vt,this.color=t.color)}function o(){e.apply(this,arguments)}function r(){e.apply(this,arguments)}e.prototype={dt:function(){return!1},gi:function(){return!1}},s.prototype=Object.assign(new e,{dt:function(){return!0}}),o.prototype=Object.assign(new e,{gi:function(){return!0}}),r.prototype=Object.assign(new e,{}),i.t={Node:s,pi:o,NONE:new r}},{}],13:[function(t,i,n){i.t={Jt:function(t,i){var n=t.x-i.x,e=t.y-i.y;return Math.sqrt(n*n+e*e)},st:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.ht&&(i.ht.constructor===Array?i.ht.forEach(function(i){n[i]=t[i]}):n[i.ht]=t[i.ht]),n}}},{}]},{},[1]);