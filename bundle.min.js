!function t(i,n,e){function o(r,h){if(!n[r]){if(!i[r]){var u="function"==typeof require&&require;if(!h&&u)return u(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[r]={t:{}};i[r][0].call(a.t,function(t){var n=i[r][1][t];return o(n||t)},a,a.t,t,i,n,e)}return n[r].t}for(var s="function"==typeof require&&require,r=0;r<e.length;r++)o(e[r]);return o}({1:[function(t,i,n){(function(i){var n=t("./src/GreulerAdapter"),e=t("./src/UrlState"),o=t("./src/ActionQueue"),s=t("./src/ResetButton"),r=t("./src/graphfactory");t("./src/Logger").level=i.i;var h,u=new o,c=new URLSearchParams(window.location.search),a=new e({o:window.location.protocol+"//"+window.location.host+window.location.pathname,s:window.history.replaceState.bind(window.history,{},""),h:c}),f=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),l=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));f<1e3&&(Math.floor(Math.min(f,l)*(1/18)),h=200),i.u=r.l({document:i.document,g:new n({p:i.p}),m:u,state:a,width:f,height:l,v:.1,A:h,N:250,C:"true"===c.get("immutable"),_:"true"===c.get("onlyChangeColors"),M:c.has("colorChoices")&&c.getAll("colorChoices").map(function(t){return"#"+t}),L:a.R(),O:a.S()}),i.P=i.u.P,i.G=new s(Object.assign({B:[i.u]},{m:u})),i.u.D(document.getElementById("main-graph")),i.G.D(document.getElementById("reset-button"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{I:2,j:14,T:17,q:21,U:23,k:26}],2:[function(t,i,n){(function(n){function e(t){this.setTimeout=t&&t.setTimeout||n.setTimeout.bind(n),this.clearTimeout=t&&t.clearTimeout||n.clearTimeout.bind(n),this.F=t&&t.F||10,this.X=[],this.K=!1}var o=t("./Literal");e.prototype={className:"ActionQueue",defer:function(t,i){1==arguments.length&&(i=t,t=1);var n=this.setTimeout(i,t);return{cancel:function(){this.clearTimeout(n)}.bind(this)}},W:function(t){var i=this.X;return i.push(t),this.K||this.H(),{cancel:function(){i.splice(i.indexOf(t),1)}}},H:function(){var t=function(){this.X.forEach(function(t){t()}),this.setTimeout(t,this.F)}.bind(this);t(),this.K=!0},Y:function(){return{setTimeout:new o("global.setTimeout.bind(global)"),clearTimeout:new o("global.clearTimeout.bind(global)"),F:this.F}}},i.t=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{V:16}],3:[function(t,i,n){function e(t){this.m=t&&t.m}function o(t,i){this.m=t,this.J=i,this.Z=0,this.interval=100,this.$=function(){return!0}}e.prototype={className:"Animator",tt:function(){return this.it(),new o(this.m,Array.prototype.slice.call(arguments))},Y:function(){return{m:this.m}},it:function(){if(!this.m)throw Error("ActionQueue is required")}},o.prototype={every:function(t){return this.interval=t,this},nt:function(t){return this.$=t,this},play:function(){var t=function(){this.$()&&(this.J[this.Z](),this.Z=(this.Z+1)%this.J.length,this.m.defer(this.interval,t))}.bind(this);return t(),this},stop:function(){return this.nt(function(){return!1})}},i.t=e},{}],4:[function(t,i,n){function e(t){o.apply(this,arguments),this.text=t&&t.text}var o=t("./Component");e.prototype=Object.assign(new o,{className:"BlockText",et:function(){return this.text&&"<p>"+this.text+"</p>"}}),i.t=e},{ot:7}],5:[function(t,i,n){function e(t){this.dimensions=t||{left:0,top:0,right:0,bottom:0}}e.prototype={className:"BoundingBox",Y:function(){return this.dimensions},st:function(t){return new e({left:this.dimensions.left-this.rt()*t,right:this.dimensions.right+this.rt()*t,top:this.dimensions.top-this.ht()*t,bottom:this.dimensions.bottom+this.ht()*t})},translate:function(t){return new e({left:this.dimensions.left+t.x,right:this.dimensions.right+t.x,top:this.dimensions.top+t.y,bottom:this.dimensions.bottom+t.y})},contains:function(t){return this.dimensions.left<=t.x&&t.x<=this.dimensions.right&&this.dimensions.top<=t.y&&t.y<=this.dimensions.bottom},ut:function(){return{x:this.dimensions.left+this.rt()/2,y:this.dimensions.top+this.ht()/2}},ct:function(){return{x:this.dimensions.left,y:this.dimensions.top}},at:function(){return{x:this.dimensions.right,y:this.dimensions.top}},ft:function(){return{x:this.dimensions.left,y:this.dimensions.bottom}},lt:function(){return{x:this.dimensions.right,y:this.dimensions.bottom}},rt:function(){return this.dimensions.right-this.dimensions.left},ht:function(){return this.dimensions.bottom-this.dimensions.top}},i.t=e},{}],6:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./Graph");e.prototype=Object.assign(new o,{className:"ColorChangingGraph",dt:function(){},gt:function(){},reset:function(){}}),i.t=e},{pt:12}],7:[function(t,i,n){function e(t){t&&(this.m=t.m,this.wt=t.wt||250,this.bt=new s({m:this.m,timeout:500,name:"mouseTouchSwitch"}),this.vt=t),this.Et=0,this.At=0,this.Nt=!1,this.Ct=[]}var o=t("./utils"),s=t("./ModeSwitch"),r=new(t("./Logger"))("Component");e.prototype={_t:function(){},Mt:function(){},yt:function(){},className:"",Y:function(){return this.vt},D:function(t){this.Lt(),this.Rt=t,t.addEventListener("mouseup",function(t){r.debug("mouseup",o.Ot(t)),this.bt.St("mouse",function(t){this.Pt(t.xt)}.bind(this))}.bind(this)),t.addEventListener("touchend",function(t){r.debug("touchend",o.Ot(t)),this.bt.St("touch",function(t){this.Pt(t.xt)}.bind(this))}.bind(this)),t.addEventListener("mousedown",function(t){t=o.Ot(t),r.debug("mousedown",t),this.bt.Gt("mouse",function(){return this.Bt(t),{xt:t}}.bind(this))}.bind(this)),t.addEventListener("touchstart",function(t){t=o.Ot(t),r.debug("touchstart",t),this.bt.Gt("touch",function(){return this.Bt(t),{xt:t}}.bind(this))}.bind(this)),t.addEventListener("keyup",function(t){t=o.Ot(t),r.debug("keyup",t),13===t.keyCode&&this.yt(t)}.bind(this)),this.et()&&(t.innerHTML=this.et()),this.Dt(t)},et:function(){return null},Dt:function(t){},It:function(t){return this.Ct.push(t),this},remove:function(){this.Ct.forEach(function(t){t(this)}.bind(this)),this.Rt.remove(),r.debug("closed component",this)},Lt:function(){if(!this.m)throw Error("actionQueue is required");if(!this.className)throw new Error("Must override className")},Pt:function(t){this.At++,this.Nt?this.Nt=!1:this._t(t)},Bt:function(t){var i=++this.Et;this.m.defer(this.wt,function(){this.Et===i&&this.At===this.Et-1&&(this.Nt=!0,this.Mt(t))}.bind(this))}},i.t=e},{jt:17,Tt:18,qt:27}],8:[function(t,i,n){function e(t){this.document=t&&t.document,this.m=t&&t.m,this.Ut=t&&t.Ut}t("./utils");var o=t("./Position"),s=t("./Component"),r=t("./Literal");e.prototype={className:"ComponentManager",Y:function(){return{document:new r("global.document"),m:this.m,Ut:this.Ut}},kt:function(t){var i=new((t=Object.assign({position:new o({zt:{x:0,y:0}}),Qt:void 0,Ft:s,vt:void 0},t)).Ft)(Object.assign({},this.Ut,t.vt)),n=this.document.createElement("div");if(t.position&&(n.style=t.position.Xt()),"function"==typeof t.Qt){var e=this.m.W(function(){n.style=t.Qt().Xt({width:n.offsetWidth,height:n.offsetHeight})}.bind(this));i.It(e.cancel.bind(e))}return this.document.body.insertBefore(n,this.document.body.firstChild),i.D(n),i}},i.t=e},{ot:7,V:16,Kt:20,qt:27}],9:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./EditMode");e.prototype=Object.assign(new o,{className:"DisallowedEditMode",Wt:function(){},Ht:function(){}}),i.t=e},{Yt:10}],10:[function(t,i,n){function e(t){this.g=t&&t.g,this.Vt=t&&t.Vt,this.N=t&&t.N||250,this.Jt=t&&t.Jt,this.Zt=t&&t.Zt||new o({name:"editMode"}),this.Zt.Gt("display")}var o=t("./ModeSwitch"),s=t("./colors"),r=new(t("./Logger"))("EditMode");e.prototype={className:"EditMode",Y:function(){return{g:this.g,Vt:this.Vt,N:this.N,Jt:this.Jt,Zt:this.Zt}},Wt:function(t){r.info("activating"),this.Ht(),this.Zt.St("display").St("edit",this.$t.bind(this)).Gt("edit",function(){var i=this.g.ti(function(i){return i.id!==t.id}),n=i.reduce(function(t,i){return t[i.id]=i.color,t},{}),e=this.Vt.tt(this.ii.bind(this,i),this.ni.bind(this,i,n)).every(this.N).play();this.Jt.ei(t);var o={oi:t,animation:e,si:i,ri:n};return r.debug("activated",o),o}.bind(this))},hi:function(){r.debug("deactvating"),this.Ht(),this.Zt.St("edit",this.$t.bind(this)).Gt("display",function(){r.debug("deactvated")})},ui:function(t){t=Object.assign({ci:function(){},ai:function(){}},t),this.Ht(),this.Zt.ci({ei:function(i){t.ci(i.oi)},display:t.ai})},ii:function(t){t.forEach(function(t){this.g.fi(t,s.li)}.bind(this))},ni:function(t,i){t.forEach(function(t){this.g.fi(t,i[t.id])}.bind(this))},$t:function(t){r.debug("cleaning up edit mode state",t),t.animation.stop(),this.Jt.display(t.oi),this.ni(t.si,t.ri)},Ht:function(){if(!this.g)throw new Error("adapter is required");if(!this.Vt)throw new Error("animator is required");if(!this.Zt)throw new Error("modeSwitch is required")}},i.t=e},{jt:17,Tt:18,di:24}],11:[function(t,i,n){function e(t){t&&(this.gi=t.gi,this.text=t.text,this.Qt=t.Qt,this.Zt=new o({name:"EditableLabel({ text: '"+this.text+"'})"}),this.pi=t.pi||function(){})}var o=t("./ModeSwitch"),s=t("./BlockText"),r=t("./TextBox"),h=new(t("./Logger"))("EditableLabel");e.prototype={className:"EditableLabel",Y:function(){return{gi:this.gi,text:this.text,Qt:this.Qt,pi:this.pi}},display:function(){return h.debug("displaying text",this.text),this.Ht(),this.Zt.St("edit",function(t){this.text=t.mi.wi(),t.mi.remove(),h.debug("got text from input component",this.text)}.bind(this)).St("display",function(t){t.mi.remove()}),this.text&&this.Zt.Gt("display",function(){var t=this.gi.kt({Ft:s,vt:{text:this.text},Qt:this.Qt});return this.pi(this.text),h.debug("EditableLabel: displaying component with text",this.text),{mi:t}}.bind(this)),this},ei:function(){return h.debug("editing text",this.text),this.Ht(),this.Zt.St("display",function(t){t.mi.remove(),h.debug("closed display component")}.bind(this)).St("edit",function(t){t.mi.remove()}),this.Zt.Gt("edit",function(){var t=this.gi.kt({Ft:r,vt:{text:this.text,bi:this.display.bind(this)},Qt:this.Qt});return h.debug("opened edit component"),{mi:t}}.bind(this)),this},Ht:function(){if(!this.gi)throw new Error("componentManager is required");if(!this.Zt)throw new Error("modeSwitch is required")},remove:function(){return this.Zt.St("display",function(t){t.mi.remove()}).St("edit",function(t){t.mi.remove()}),this},vi:function(t){t.mi.remove()}},e.Ei={create:function(t){return new e(t)}},i.t=e},{Ai:4,jt:17,Tt:18,Ni:22}],12:[function(t,i,n){function e(t){this.state=t&&t.state,this.g=t&&t.g,this.m=t&&t.m,this.Jt=t&&t.Jt,this.M=t&&t.M||s.Ci(o._i,o.Mi),this.yi=t&&t.yi,this.A=t&&t.A,this.L=t&&t.L||[],this.O=t&&t.O||[]}var o=t("./colors"),s=t("./utils"),r=new(t("./Logger"))("Graph");e.prototype={className:"Graph",Y:function(){return{state:this.state,g:this.g,m:this.m,Jt:this.Jt,M:this.M,yi:this.yi,A:this.A,L:this.state.R(),O:this.state.S()}},initialize:function(t){this.Ht(),r.debug("initializing graph",this),this.g.initialize(t.Rt,s.Li({width:t.width,height:t.height,Ri:this.L.map(function(t){return s.Li({id:t.id,color:t.color||this.M[0],label:"",size:this.yi},{Oi:["id","label"]})}.bind(this)),Si:this.O,A:this.A})),this.m.defer(function(){r.debug("initializing label set"),this.Jt.initialize(this.L.map(function(t){return{oi:this.g.Pi(t.id),label:t.label}}.bind(this)))}.bind(this))},dt:function(){var t=this.state.xi({color:this.M[0]}),i=s.Li({id:t,color:this.M[0],label:"",size:this.yi},{Oi:["id","label"]});this.g.dt(i)},Gi:function(t){var i=this.Bi(t),n=this.M[i];this.g.fi(t,n),this.state.xi({id:t.id,color:n})},gt:function(t,i){this.g.gt({source:t,target:i,Di:this.A}),this.state.Ii(t.id,i.id)},reset:function(){this.g.ji(function(){this.state.R().forEach(function(t){this.g.removeNode(t)}.bind(this))}.bind(this)),this.state.reset(),this.Jt.Ti()},Bi:function(t){return(this.M.indexOf(t.color)+1)%this.M.length},Ht:function(){if(!this.state)throw new Error("state is required");if(!this.g)throw new Error("adapter is required");if(!this.m)throw new Error("actionQueue is required");if(!this.Jt)throw new Error("labelSet is required")}},i.t=e},{jt:17,di:24,qt:27}],13:[function(t,i,n){function e(t){o.apply(this,arguments),this.g=t&&t.g,this.qi=t&&t.qi,this.P=t&&t.P,this.width=t&&t.width,this.height=t&&t.height,this.v=t.v}var o=t("./Component");t("./utils"),new(t("./Logger"))("GraphComponent");e.prototype=Object.assign(new o,{className:"GraphComponent",Dt:function(t){this.P.initialize({Rt:t,width:this.width,height:this.height})},_t:function(t){var i=this.g.Ui(t,this.v);this.qi.ui({ci:function(t){i.ki()&&i.id!==t.id?this.P.gt(t,i):this.qi.hi()}.bind(this),ai:function(){i.ki()?this.P.Gi(i):this.P.dt()}.bind(this)})},Mt:function(t){var i=this.g.Ui(t,this.v);i.ki()&&this.qi.Wt(i)},reset:function(){this.P.reset(),this.qi.hi()},Lt:function(){if(o.prototype.Lt.call(this,arguments),!this.g)throw new Error("adapter is required");if(!this.qi)throw new Error("edit mode is required");if(!this.P)throw new Error("graph is required")}}),i.t=e},{ot:7,jt:17,qt:27}],14:[function(t,i,n){function e(t){this.p=t&&t.p,this.Fi=!1}var o=t("./graphelements"),s=t("./utils"),r=t("./BoundingBox"),h=t("./Literal"),u=new(t("./Logger"))("GreulerAdapter");e.prototype={className:"GreulerAdapter",Y:function(){return{p:new h("global.greuler")}},initialize:function(t,i){i=i||{},this.zi=this.p(s.Li({target:"#"+t.id,width:i.width,height:i.height,data:s.Li({Ri:i.Ri&&i.Ri.map(this.Qi),links:i.Si,Xi:i.A&&function(){return i.A}})})).update(),this.P=this.zi.P},dt:function(t){this.P.dt(this.Qi(t));this.Ki()},removeNode:function(t){this.P.removeNode(this.Qi(t));this.Ki()},gt:function(t){this.P.gt(s.Li({source:t.source.id,target:t.target.id,Xi:t.Di},{Oi:["source","target"]}));this.Ki()},fi:function(t,i){if(t.Wi)t.Wi.setAttribute("fill",i);else if(t.id){var n=this.P.Pi({id:t.id});this.Hi(n).setAttribute("fill",i)}else u.error("Got unexpected target node",t)},Ui:function(t,i){return this.Yi(t,i)||o.NONE},Pi:function(t){return u.debug("retrieving node",t),this.ti(function(i){return i.id===t})[0]},ti:function(t){return t=t||function(){return!0},this.P.Vi(t).map(function(t){var i=this.Hi(t);return new o.Node({id:t.id,Ji:t,Wi:i,color:i.getAttribute("fill"),Zi:this.$i.bind(this,t)})}.bind(this))},ji:function(t){this.Fi=!0,t(this),this.Fi=!1,this.Ki()},Qi:function(t){return s.Li({id:t.id,fill:t.color,label:t.label||"",r:t.size},{Oi:["id","label"]})},Hi:function(t){u.debug("retrieving dom element for node: "+t.index,this.zi);var i=this.zi.tn[0][0].childNodes;return u.debug(i),i[t.index].getElementsByTagName("circle")[0]},Yi:function(t,i){i=i||0;var n={x:t.clientX,y:t.clientY},e=this.ti(function(t){return this.$i(t).st(i).contains(n)}.bind(this));return e&&e.length?(e.sort(function(t,i){return s.Di(t.ut(),n)-s.Di(i.ut(),n)}),e[0]):void 0},Ki:function(){this.Fi||(this.zi=this.zi.update())},$i:function(t){var i=this.zi.root[0][0].getBoundingClientRect();return new r({left:t.bounds.x,right:t.bounds.in,top:t.bounds.y,bottom:t.bounds.nn}).translate({x:i.left,y:i.top})}},i.t=e},{en:5,V:16,jt:17,on:25,qt:27}],15:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./Graph");e.prototype=Object.assign(new o,{className:"ImmutableGraph",dt:function(){},Gi:function(){},gt:function(){},reset:function(){}}),i.t=e},{pt:12}],16:[function(t,i,n){i.t=function(t){this.value=t}},{}],17:[function(t,i,n){(function(t){function n(t){this.name=t||"Logger"}var e=["DEBUG","INFO","WARN","ERROR"];n.level="WARN",n.sn={},n.prototype={debug:function(t,i){this.rn.apply(this,[(new Date).getTime(),"DEBUG",this.name].concat(Array.prototype.splice.call(arguments,0)))},info:function(t,i){this.rn.apply(this,[(new Date).getTime(),"INFO",this.name].concat(Array.prototype.splice.call(arguments,0)))},warn:function(t,i){this.rn.apply(this,[(new Date).getTime(),"WARN",this.name].concat(Array.prototype.splice.call(arguments,0)))},error:function(t,i){this.rn.apply(this,[(new Date).getTime(),"ERROR",this.name].concat(Array.prototype.splice.call(arguments,0)))},rn:function(){var i=arguments[1],o=n.sn[this.name]||n.level;e.indexOf(i)>=e.indexOf(o)&&t.console.log.apply(t.console.log,arguments)}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(t,i,n){function e(t){this.m=t&&t.m,this.timeout=t&&t.timeout||0,this.hn=t&&t.un||{},this.name=t&&t.name||"ModeSwitch",this.cn=null,this.an=null,o.debug("Initialized "+this.name,this)}var o=new(t("./Logger"))("ModeSwitch");e.prototype={className:"ModeSwitch",Y:function(){return{m:this.m,timeout:this.timeout,un:this.hn,name:this.name}},Gt:function(t,i){if(this.Ht(),this.fn(t)){o.debug(this.name+": Entering '"+t+"'",this);var n=(i||function(){})();this.hn[t]=n,this.cn=t,this.ln()}else o.debug(this.name+": Not entering '"+t+"'; active mode is "+this.cn,this);return this},St:function(t,i){return this.Ht(),this.dn(t)?(o.debug(this.name+": Exiting "+t,this),(i||function(){})(this.hn[t]),this.gn()):o.debug(this.name+": Not exiting '"+t+"'; active mode is "+this.cn,this),this},ci:function(t){var i=this.cn||"default",n=t[i];return n?(o.debug(this.name+": Found callback for active mode",i,t),n(this.hn[this.cn||"default"])):o.debug(this.name+": No callback for active mode",i,t),this},fn:function(t){return!this.cn||this.dn(t)},dn:function(t){return this.cn===t},ln:function(){this.an&&this.an.cancel()},gn:function(){var t=function(){delete this.hn[this.cn],this.cn=null}.bind(this);this.ln(),this.timeout?this.an=this.m.defer(this.timeout,t):t()},Ht:function(){if(this.timeout&&!this.m)throw new Error("action queue is required if a timeout is specified")}},i.t=e},{jt:17}],19:[function(t,i,n){function e(t){this.gi=t&&t.gi,this.state=t&&t.state,this.pn=t&&t.pn||s.Ei,this.labels={}}var o=t("./Position"),s=t("./EditableLabel"),r=new(t("./Logger"))("NodeLabelSet");e.prototype={className:"NodeLabelSet",Y:function(){return{gi:this.gi,state:this.state}},initialize:function(t){r.debug("initializing",t),t.filter(function(t){return!!t.label}).forEach(function(t){var i=this.wn(t.oi,t.label);this.labels[t.oi.id]=i,i.display()}.bind(this))},ei:function(t){r.debug("editing label for node "+t.id),this.mn(t).ei()},display:function(t){r.debug("displaying label for node "+t.id),this.mn(t).display()},Ti:function(){Object.values(this.labels).forEach(function(t){t.remove()}),this.labels={}},mn:function(t){var i;return this.labels[t.id]?(i=this.labels[t.id],r.info("reusing existing label for node "+t.id,i)):(i=this.wn(t),this.labels[t.id]=i,r.info("created new label for node "+t.id,i)),i},wn:function(t,i){return r.debug("Creating label",t),this.pn.create({text:i,gi:this.gi,Qt:function(){return new o({bn:t.Zi().ct()})},pi:function(i){r.debug("saving label",t,i),this.state.xi({id:t.id,label:i})}.bind(this)})},Ht:function(){if(!this.gi)throw new Error("componentManager is required");if(!this.state)throw new Error("state is required")}},i.t=e},{vn:11,jt:17,Kt:20}],20:[function(t,i,n){function e(t){if(!o.En(t))throw new Error("invalid position object "+t);Object.assign(this,t)}var o=t("./utils");e.prototype={className:"Position",Y:function(){return this},Xt:function(t){if(t=Object.assign({width:0,height:0},t),this.zt)return"position: absolute; left: "+this.zt.x+"; top: "+this.zt.y+";";if(this.An)return"position: absolute; left: "+(this.An.x-t.width)+"; top: "+this.An.y+";";if(this.Nn)return"position: absolute; left: "+this.Nn.x+"; top: "+(this.Nn.y-t.height)+";";if(this.bn)return"position: absolute; left: "+(this.bn.x-t.width)+"; top: "+(this.bn.y-t.height)+";";throw new Error("invalid position object: "+this)}},i.t=e},{qt:27}],21:[function(t,i,n){function e(t){o.apply(this,arguments),this.B=t?t.B:[]}var o=t("./Component");e.prototype=Object.assign(new o,{className:"ResetButton",_t:function(t){this.B.forEach(function(t){t.reset()})}}),i.t=e},{ot:7}],22:[function(t,i,n){function e(t){o.apply(this,arguments),this.Cn=t&&t.text||"",this.bi=t&&t.bi||function(){}}var o=t("./Component");e.prototype=Object.assign(new o,{className:"TextBox",et:function(){return'<input type="text" value="'+this.Cn+'"></input>'},wi:function(){return this.Rt.getElementsByTagName("input")[0].value},yt:function(t){this.bi()}}),i.t=e},{ot:7}],23:[function(t,i,n){function e(t){this.o=t&&t.o,this.s=t&&t.s,this.h=t&&t.h}var o=t("./utils"),s=t("./Literal");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",LABEL_PARAM_PREFIX="l_",e.prototype={className:"UrlState",Y:function(){return{o:this.o,s:new s("window.history.replaceState.bind(window.history, {}, '')"),h:new s("new URLSearchParams(window.location.search)")}},xi:function(t){var i;return(t=t||{}).hasOwnProperty("id")&&null!==t.id&&void 0!==t.id?i=t.id:(i=this._n(),this.h.set(NUM_NODES_PARAM,i+1)),t.color&&this.Mn(i,t.color),t.label&&this.yn(i,t.label),this.Ln(),i},Rn:function(t){var i=this.On(t),n=this.Sn().find(function(t){return this.Pn({xn:i,Gn:t})}.bind(this)),e=this.h.get(LABEL_PARAM_PREFIX+t);return o.Li({id:t,color:n&&n.replace(COLOR_PARAM_PREFIX,"#"),label:e&&decodeURIComponent(e)},{Oi:"id"})},Ii:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this.h.has(e)?this.Bn(e)|this.On(i):this.On(i),this.Dn(e,n),this.Ln()},R:function(){var t=[];if(this.h.has(NUM_NODES_PARAM))for(var i=0;i<this.h.get(NUM_NODES_PARAM);i++)t.push(this.Rn(i));return t},S:function(){return this.In().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.Bn(t),o=e.toString(2).length,s=0;s<o;s++){var r=this.On(s);(e&r)===r&&n.push({source:i,target:s})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},yn:function(t,i){this.h.set(LABEL_PARAM_PREFIX+t,encodeURIComponent(i))},jn:function(){return this.o+"?"+this.h.toString()},reset:function(){this.Tn().forEach(function(t){this.h.delete(t)}.bind(this)),this.Ln()},Pn:function(t){return t=this.qn(t),!!this.h.has(t.Gn)&&(this.Bn(t.Gn)&t.xn)===t.xn},Un:function(t){t=this.qn(t);var i;i=this.h.has(t.Gn)?this.Bn(t.Gn)|t.xn:t.xn,this.Dn(t.Gn,i)},kn:function(t){if(t=this.qn(t),!this.h.has(t.Gn))throw Error("Attempted to remove color "+t.Gn);var i=this.Bn(t.Gn)&~t.xn;0===i?this.h.delete(t.Gn):this.Dn(t.Gn,i)},Bn:function(t){return parseInt(this.h.get(t),16)},Dn:function(t,i){this.h.set(t,i.toString(16))},On:function(t){return t<=30?1<<t:Math.pow(2,t)},qn:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{xn:t.hasOwnProperty("bit")?t.xn:this.On(t.Fn),Gn:t.hasOwnProperty("colorKey")?t.Gn:t.color.replace("#",COLOR_PARAM_PREFIX)}},Sn:function(){return this.Tn(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},In:function(){return this.Tn(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},Tn:function(t){t=t||function(){return!0};for(var i=[],n=this.h.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},_n:function(){return this.h.has(NUM_NODES_PARAM)?parseInt(this.h.get(NUM_NODES_PARAM)):0},Mn:function(t,i){var n=this.On(t);this.Sn().forEach(function(t){this.Pn({xn:n,Gn:t})&&this.kn({xn:n,Gn:t})}.bind(this)),this.Un({xn:n,color:i})},Ln:function(){this.s(this.jn())}},i.t=e},{V:16,qt:27}],24:[function(t,i,n){i.t={zn:"#db190f",Qn:"#f76402",Xn:"#fbff14",Kn:"#28b92b",Wn:"#2826b5",Mi:"#2980B9",Hn:"#8c28b7",li:"#00FF00",_i:["#db190f","#f76402","#fbff14","#28b92b","#2826b5","#2980B9","#8c28b7"]}},{}],25:[function(t,i,n){function e(t){t&&(this.id=t.id,this.Wi=t.Wi)}function o(t){e.apply(this,arguments),t&&(this.Ji=t.Ji,this.color=t.color,this.Zi=t.Zi)}function s(){e.apply(this,arguments)}function r(){e.apply(this,arguments)}e.prototype={ki:function(){return!1},Yn:function(){return!1}},o.prototype=Object.assign(new e,{ki:function(){return!0},ut:function(){return this.Zi().ut()},ct:function(){return this.Zi().ct()},at:function(){return this.Zi().at()},ft:function(){return this.Zi().ft()},lt:function(){return this.Zi().lt()}}),s.prototype=Object.assign(new e,{Yn:function(){return!0}}),r.prototype=Object.assign(new e,{}),i.t={Node:o,Vn:s,NONE:new r}},{}],26:[function(t,i,n){var e=t("./Animator"),o=t("./ColorChangingGraph"),s=t("./ComponentManager"),r=t("./DisallowedEditMode"),h=t("./EditMode"),u=t("./Graph"),c=t("./GraphComponent"),a=(t("./GreulerAdapter"),t("./ImmutableGraph")),f=t("./NodeLabelSet"),l=t("./utils"),d=new(t("./Logger"))("graphfactory");i.t={Jn:function(t){d.debug("instantiating immmutable graph",t);var i=l.Zn(t.m),n=l.Zn(t.state),e=l.Zn(t.g),o=t.Jt||new f({gi:t.gi||this.$n(t),state:n});return new a({state:n,g:e,m:i,Jt:o,L:t.L,O:t.O,yi:t.yi,A:t.A,M:t.M})},te:function(t){d.debug("instantiating color changing graph",t);var i=l.Zn(t.m),n=l.Zn(t.state),e=l.Zn(t.g),s=t.Jt||new f({gi:t.gi||this.$n(t),state:n});return new o({state:n,g:e,m:i,Jt:s,L:t.L,O:t.O,yi:t.yi,A:t.A,M:t.M})},ie:function(t){d.debug("instantiating mutable graph",t);var i=l.Zn(t.m),n=l.Zn(t.state),e=l.Zn(t.g),o=t.Jt||new f({gi:t.gi||this.$n(t),state:n});return new u({state:n,g:e,m:i,Jt:o,L:t.L,O:t.O,yi:t.yi,A:t.A,M:t.M})},ne:function(t){return t.C?this.Jn(t):t._?this.te(t):this.ie(t)},l:function(t){var i,n=l.Zn(t.m),o=l.Zn(t.g),s=l.Zn(t.state),u=t.gi=this.$n(t),a=new f({gi:u,state:s});return i=t.C||t._?new r:new h({g:o,Vt:new e({m:n}),Jt:a,N:t.N}),new c(Object.assign({P:this.ne(t),g:o,qi:i,width:t.width,height:t.height,v:t.v},this.ee(t)))},$n:function(t){return new s({m:l.Zn(t.m),Ut:this.ee(t),document:l.Zn(t.document)})},ee:function(t){return{m:l.Zn(t.m)}}}},{oe:3,se:6,re:8,he:9,Yt:10,pt:12,ue:13,ce:14,ae:15,jt:17,fe:19,qt:27}],27:[function(t,i,n){function e(t,i){function n(t){return" ".repeat(i)+t}function r(t){return" ".repeat(i+2)+t}return i=i||0,t instanceof s?t.value:Array.isArray(t)?"[\n"+t.map(function(t){return e(t,i+2)+","}).map(r).join("\n")+"\n"+n("]"):t&&t.className&&t.Y?"new "+t.className+"({\n"+Object.keys(t.Y()).map(function(n){return n+": "+e(t.Y()[n],i+2)+","}).map(r).join("\n")+"\n"+n("})"):t&&"object"==typeof t?"{\n"+Object.keys(t).map(function(n){return n+": "+e(t[n],i+2)+","}).map(r).join("\n")+"\n"+n("}"):t&&"string"==typeof t?"'"+o(t,"'","\\'")+"'":t||0===t?t.toString():"null"}function o(t,i,n){return t.split(i).join(n)}var s=t("./Literal");i.t={Di:function(t,i){var n=t.x-i.x,e=t.y-i.y;return Math.sqrt(n*n+e*e)},Li:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.Oi&&(i.Oi.constructor===Array?i.Oi.forEach(function(i){n[i]=t[i]}):n[i.Oi]=t[i.Oi]),n},Ot:function(t){return t&&t.touches&&t.touches.length?Object.assign(t,{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,screenX:t.touches[0].screenX,screenY:t.touches[0].screenY}):t},En:function(t){return!(!t||"object"!=typeof t||Array.isArray(t))&&1===Object.keys(t).filter(function(i){return!!t[i]}).length},Ci:function(t,i){var n=t.indexOf(i);if(n>=0){for(var e=[],o=n;o<t.length;o++)e.push(t[o]);for(o=0;o<n;o++)e.push(t[o]);return e}return t},le:e,de:o,Zn:function(t){if(!t)throw new Error("missing required object");return t}}},{V:16}]},{},[1]);