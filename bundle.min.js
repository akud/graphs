!function t(i,n,e){function s(r,h){if(!n[r]){if(!i[r]){var u="function"==typeof require&&require;if(!h&&u)return u(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[r]={t:{}};i[r][0].call(f.t,function(t){var n=i[r][1][t];return s(n||t)},f,f.t,t,i,n,e)}return n[r].t}for(var o="function"==typeof require&&require,r=0;r<e.length;r++)s(e[r]);return s}({1:[function(t,i,n){(function(i){var n=i.i,e=t("./src/GreulerAdapter"),s=t("./src/Graph"),o=t("./src/Animator"),r=t("./src/UrlState"),h=t("./src/ActionQueue"),u=t("./src/ResetButton");t("./src/Logger").level=i.s;var c,f,a=new h,d=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),l=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));d<1e3&&(c=Math.floor(Math.min(d,l)*(1/18)),f=200),i.o=new e(n),i.h=new s({u:a,o:adapter,l:new o({u:a}),state:new r({g:window.location.protocol+"//"+window.location.host+window.location.pathname,_:window.history.replaceState.bind(window.history,{},""),p:new URLSearchParams(window.location.search)}),width:d,height:l,A:c,v:f,N:.1,m:250}),i.R=new u({u:a,O:[i.h]}),i.h.M(document.getElementById("main-graph")),i.R.M(document.getElementById("reset-button"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{P:2,D:3,C:6,I:7,L:8,U:10,B:11}],2:[function(t,i,n){(function(t){function n(i){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t),this.clearTimeout=i&&i.clearTimeout||t.clearTimeout.bind(t)}n.prototype={defer:function(t,i){1==arguments.length&&(i=t,t=1);var n=this.setTimeout(i,t);return{cancel:function(){this.clearTimeout(n)}.bind(this)}}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){function e(t){this.u=t&&t.u}function s(t,i){this.u=t,this.F=i,this.S=0,this.interval=100,this.G=function(){return!0}}e.prototype={k:function(){return this.q(),new s(this.u,Array.prototype.slice.call(arguments))},q:function(){if(!this.u)throw Error("ActionQueue is required")}},s.prototype={every:function(t){return this.interval=t,this},K:function(t){return this.G=t,this},play:function(){var t=function(){this.G()&&(this.F[this.S](),this.S=(this.S+1)%this.F.length,this.u.defer(this.interval,t))}.bind(this);t()}},i.t=e},{}],4:[function(t,i,n){function e(t){this.dimensions=t}e.prototype={X:function(t){var i=this.dimensions.right-this.dimensions.left,n=this.dimensions.bottom-this.dimensions.top;return new e({left:this.dimensions.left-i*t,right:this.dimensions.right+i*t,top:this.dimensions.top-n*t,bottom:this.dimensions.bottom+i*t})},translate:function(t){return new e({left:this.dimensions.left+t.x,right:this.dimensions.right+t.x,top:this.dimensions.top+t.y,bottom:this.dimensions.bottom+t.y})},contains:function(t){return this.dimensions.left<=t.x&&t.x<=this.dimensions.right&&this.dimensions.top<=t.y&&t.y<=this.dimensions.bottom}},i.t=e},{}],5:[function(t,i,n){function e(t){t&&(this.u=t.u,this.j=t.j||250,this.T=new o({u:this.u,timeout:500})),this.W=0,this.Y=0,this.H=!1}var s=t("./utils"),o=t("./ModeSwitch"),r=t("./Logger");e.prototype={V:function(){},J:function(){},M:function(t){this.Z();var i=null;t.addEventListener("mouseup",function(t){r.debug("mouseup",s.$(t)),this.T.tt("mouse",function(){this.it(i)}.bind(this))}.bind(this)),t.addEventListener("touchend",function(t){r.debug("touchend",s.$(t)),this.T.tt("touch",function(){this.it(i)}.bind(this))}.bind(this)),t.addEventListener("mousedown",function(t){t=s.$(t),r.debug("mousedown",t),this.T.nt("mouse",function(){i=t,this.et(t)}.bind(this))}.bind(this)),t.addEventListener("touchstart",function(t){s.$(t),r.debug("touchstart",t),this.T.nt("touch",function(){i=t,this.et(t)}.bind(this))}.bind(this)),this.st(t)},st:function(t){},Z:function(){if(!this.u)throw Error("actionQueue is required")},it:function(t){this.Y++,this.H?this.H=!1:this.V(t)},et:function(t){var i=++this.W;this.u.defer(this.j,function(){this.W===i&&this.Y===this.W-1&&(this.H=!0,this.J(t))}.bind(this))}},i.t=e},{ot:8,rt:9,ht:14}],6:[function(t,i,n){function e(t){s.apply(this,arguments),t&&(this.o=t.o,this.l=t.l,this.state=t.state,this.width=t.width,this.height=t.height,this.A=t.A,this.v=t.v,this.N=t.N,this.m=t.m||100),this.ut()}var s=t("./Component"),o=t("./colors"),r=t("./utils"),h=(t("./Logger"),[o.ct,o.ft,o.at,o.dt,o.lt,o.wt,o.gt]);e.prototype=Object.assign(new s,{st:function(t){this.o.initialize(t,r._t({width:this.width,height:this.height,Et:this.state.pt().map(function(t){return r._t({id:t.id,color:t.color||h[0],label:"",size:this.A},{At:["id","label"]})}.bind(this)),vt:this.state.Nt(),v:this.v}))},V:function(t){var i=this.o.Rt(t,this.N);this.bt()?i.Ot()&&i.id!==this.Mt.id?(this.o.yt({source:this.Mt,target:i,Pt:this.v}),this.state.Dt(this.Mt.id,i.id)):this.Ct():i.Ot()?this.It(i):this.Lt()},J:function(t){if(!this.bt()){var i=this.o.Rt(t,this.N);i.Ot()&&this.Ut(i)}},reset:function(){this.o.Bt(function(){this.state.pt().forEach(function(t){this.o.removeNode(t)}.bind(this)),this.state.pt().forEach(function(t){this.o.removeNode(t)}.bind(this))}.bind(this)),this.ut(),this.state.reset()},It:function(t){var i=this.Ft(t.id),n=h[i];this.o.St(t,n),this.Gt[t.id]=i,this.state.kt(t.id,n)},Lt:function(){var t=this.state.xt({color:h[0]}),i=r._t({id:t,color:h[0],label:"",size:this.A},{At:["id","label"]});this.o.qt(i)},Ft:function(t){return((this.Gt[t]||0)+1)%h.length},bt:function(){return!!this.Mt},Ut:function(t){if(!this.l)throw new Error("adapter is not present");this.Mt=t,this.Kt=this.o.Xt(function(i){return i.id!==t.id}),this.l.k(this.jt.bind(this),this.zt.bind(this)).every(this.m).K(this.bt.bind(this)).play()},Ct:function(){this.Mt=null,this.zt(),this.Qt={}},Z:function(){if(s.prototype.Z.call(this,arguments),!this.o)throw new Error("adapter is not present");if(!this.l)throw new Error("animator is not present");if(!this.state)throw new Error("state is not present")},jt:function(){this.Kt.forEach(function(t){this.Qt[t.id]||(this.Qt[t.id]=t.color),this.o.St(t,o.Tt)}.bind(this))},zt:function(){this.Kt.forEach(function(t){this.Qt[t.id]&&this.o.St(t,this.Qt[t.id])}.bind(this))},ut:function(){this.Gt={},this.Mt=null,this.Kt=[],this.Qt={}}}),i.t=e},{Wt:5,ot:8,Yt:12,ht:14}],7:[function(t,i,n){function e(t){this.i=t,this.Ht=!1}function s(t){var i=t.bounds.Vt-t.bounds.x,n=t.bounds.Jt-t.bounds.y;return{x:t.bounds.x+i/2,y:t.bounds.y+n/2}}var o=t("./graphelements"),r=t("./utils"),h=t("./BoundingBox"),u=t("./Logger");e.prototype={initialize:function(t,i){i=i||{},this.Zt=this.i(r._t({target:"#"+t.id,width:i.width,height:i.height,data:r._t({Et:i.Et&&i.Et.map(this.$t),links:i.vt,ti:i.v&&function(){return i.v}})})).update(),this.h=this.Zt.h},qt:function(t){this.h.qt(this.$t(t));this.ii()},removeNode:function(t){this.h.removeNode(this.$t(t));this.ii()},yt:function(t){this.h.yt(r._t({source:t.source.id,target:t.target.id,ti:t.Pt},{At:["source","target"]}));this.ii()},St:function(t,i){if(t.ni)t.ni.setAttribute("fill",i);else if(t.id){var n=this.h.ei({id:t.id});this.si(n).setAttribute("fill",i)}else u.error("Got unexpected target node",t)},Rt:function(t,i){return this.oi(t,i)||o.NONE},Xt:function(t){return t=t||function(){return!0},this.h.ri(t).map(function(t){var i=this.si(t);return new o.Node({id:t.id,hi:t,ni:i,color:i.getAttribute("fill")})}.bind(this))},Bt:function(t){this.Ht=!0,t(this),this.Ht=!1,this.ii()},$t:function(t){return r._t({id:t.id,fill:t.color,label:t.label||"",r:t.size},{At:["id","label"]})},si:function(t){return this.Zt.ui[0][0].childNodes[t.index].getElementsByTagName("circle")[0]},oi:function(t,i){i=i||0;var n=this.Zt.root[0][0].getBoundingClientRect(),e={x:t.clientX,y:t.clientY},o=this.Xt(function(t){return new h({left:t.bounds.x,right:t.bounds.Vt,top:t.bounds.y,bottom:t.bounds.Jt}).X(i).translate({x:n.left,y:n.top}).contains(e)});return o&&o.length?(o.sort(function(t,i){return r.Pt(s(t.hi),e)-r.Pt(s(i.hi),e)}),o[0]):void 0},ii:function(){this.Ht||(this.Zt=this.Zt.update())}},i.t=e},{ci:4,ot:8,fi:13,ht:14}],8:[function(t,i,n){(function(t){function n(){this.level="WARN"}var e=["DEBUG","INFO","WARN","ERROR"];n.prototype={debug:function(t,i){this.ai.apply(this,[(new Date).getTime(),"DEBUG"].concat(Array.prototype.splice.call(arguments,0)))},info:function(t,i){this.ai.apply(this,[(new Date).getTime(),"INFO"].concat(Array.prototype.splice.call(arguments,0)))},warn:function(t,i){this.ai.apply(this,[(new Date).getTime(),"WARN"].concat(Array.prototype.splice.call(arguments,0)))},error:function(t,i){this.ai.apply(this,[(new Date).getTime(),"ERROR"].concat(Array.prototype.splice.call(arguments,0)))},ai:function(){var i=arguments[1];e.indexOf(i)>=e.indexOf(this.level)&&t.console.log.apply(t.console.log,arguments)}},i.t=new n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,i,n){function e(t){t&&(this.u=t.u,this.timeout=t.timeout||1),this.di=null,this.li=null}e.prototype={nt:function(t,i){this.wi(),this.gi(t)&&((i||function(){})(),this.di=t,this._i())},tt:function(t,i){this.wi(),this.Ei(t)&&((i||function(){})(),this.pi())},gi:function(t){return!this.di||this.Ei(t)},Ei:function(t){return this.di===t},_i:function(){this.li&&this.li.cancel()},pi:function(){this._i(),this.li=this.u.defer(this.timeout,function(){this.di=null}.bind(this))},wi:function(){if(!this.u)throw new Error("action queue is required")}},i.t=e},{}],10:[function(t,i,n){function e(t){s.apply(this,arguments),this.O=t?t.O:[]}var s=t("./Component");e.prototype=Object.assign(new s,{V:function(t){this.O.forEach(function(t){t.reset()})}}),i.t=e},{Wt:5}],11:[function(t,i,n){function e(t){this.g=t&&t.g,this._=t&&t._,this.p=t&&t.p}var s=t("./utils");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",e.prototype={xt:function(t){var i=this.Ai();return this.p.set(NUM_NODES_PARAM,i+1),this.vi(),t&&t.color&&this.kt(i,t.color),i},kt:function(t,i){var n=this.Ni(t);this.mi().forEach(function(t){this.Ri({bi:n,Oi:t})&&this.Mi({bi:n,Oi:t})}.bind(this)),this.yi({bi:n,color:i}),this.vi()},Dt:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this.p.has(e)?this.Pi(e)|this.Ni(i):this.Ni(i),this.Di(e,n),this.vi()},pt:function(){var t=[];if(this.p.has(NUM_NODES_PARAM))for(var i=this.mi(),n=0;n<this.p.get(NUM_NODES_PARAM);n++){var e=this.Ni(n),o=i.find(function(t){return this.Ri({bi:e,Oi:t})}.bind(this));t.push(s._t({id:n,color:o&&o.replace(COLOR_PARAM_PREFIX,"#")},{At:"id"}))}return t},Nt:function(){return this.Ci().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.Pi(t),s=e.toString(2).length,o=0;o<s;o++){var r=this.Ni(o);(e&r)===r&&n.push({source:i,target:o})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},Ii:function(){return this.g+"?"+this.p.toString()},reset:function(){this.Li().forEach(function(t){this.p.delete(t)}.bind(this)),this.vi()},Ri:function(t){return t=this.Ui(t),!!this.p.has(t.Oi)&&(this.Pi(t.Oi)&t.bi)===t.bi},yi:function(t){t=this.Ui(t);var i;i=this.p.has(t.Oi)?this.Pi(t.Oi)|t.bi:t.bi,this.Di(t.Oi,i)},Mi:function(t){if(t=this.Ui(t),!this.p.has(t.Oi))throw Error("Attempted to remove color "+t.Oi);var i=this.Pi(t.Oi)&~t.bi;0===i?this.p.delete(t.Oi):this.Di(t.Oi,i)},Pi:function(t){return parseInt(this.p.get(t),16)},Di:function(t,i){this.p.set(t,i.toString(16))},Ni:function(t){return t<=30?1<<t:Math.pow(2,t)},Ui:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{bi:t.hasOwnProperty("bit")?t.bi:this.Ni(t.Bi),Oi:t.hasOwnProperty("colorKey")?t.Oi:t.color.replace("#",COLOR_PARAM_PREFIX)}},mi:function(){return this.Li(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},Ci:function(){return this.Li(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},Li:function(t){t=t||function(){return!0};for(var i=[],n=this.p.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},Ai:function(){return this.p.has(NUM_NODES_PARAM)?parseInt(this.p.get(NUM_NODES_PARAM)):0},vi:function(){this._(this.Ii())}},i.t=e},{ht:14}],12:[function(t,i,n){i.t={at:"#db190f",dt:"#f76402",lt:"#fbff14",wt:"#28b92b",gt:"#2826b5",ct:"#2980B9",ft:"#8c28b7",Tt:"#00FF00"}},{}],13:[function(t,i,n){function e(t){t&&(this.id=t.id,this.ni=t.ni)}function s(t){e.apply(this,arguments),t&&(this.hi=t.hi,this.color=t.color)}function o(){e.apply(this,arguments)}function r(){e.apply(this,arguments)}e.prototype={Ot:function(){return!1},Fi:function(){return!1}},s.prototype=Object.assign(new e,{Ot:function(){return!0}}),o.prototype=Object.assign(new e,{Fi:function(){return!0}}),r.prototype=Object.assign(new e,{}),i.t={Node:s,Si:o,NONE:new r}},{}],14:[function(t,i,n){i.t={Pt:function(t,i){var n=t.x-i.x,e=t.y-i.y;return Math.sqrt(n*n+e*e)},_t:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.At&&(i.At.constructor===Array?i.At.forEach(function(i){n[i]=t[i]}):n[i.At]=t[i.At]),n},$:function(t){return t&&t.touches&&t.touches.length?Object.assign(t,{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,screenX:t.touches[0].screenX,screenY:t.touches[0].screenY}):t}}},{}]},{},[1]);