!function t(i,n,e){function o(r,h){if(!n[r]){if(!i[r]){var u="function"==typeof require&&require;if(!h&&u)return u(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[r]={t:{}};i[r][0].call(a.t,function(t){var n=i[r][1][t];return o(n||t)},a,a.t,t,i,n,e)}return n[r].t}for(var s="function"==typeof require&&require,r=0;r<e.length;r++)o(e[r]);return o}({1:[function(t,i,n){(function(i){var n=t("./src/GreulerAdapter"),e=t("./src/UrlState"),o=t("./src/ActionQueue"),s=t("./src/ResetButton"),r=t("./src/graphfactory");t("./src/Logger").level=i.i;var h,u=new o,c=new URLSearchParams(window.location.search),a=new e({o:window.location.protocol+"//"+window.location.host+window.location.pathname,s:window.history.replaceState.bind(window.history,{},""),h:c}),f=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),d=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));f<1e3&&(Math.floor(Math.min(f,d)*(1/18)),h=200),i.u=r.l({document:i.document,g:new n(i.p),v:u,state:a,width:f,height:d,m:.1,_:h,A:250,M:"true"===c.get("immutable"),N:"true"===c.get("onlyChangeColors"),C:a.R(),O:a.L()}),i.P=i.u.P,i.S=new s(Object.assign({G:[i.u]},{v:u})),i.u.D(document.getElementById("main-graph")),i.S.D(document.getElementById("reset-button"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{I:2,B:14,j:16,q:20,k:22,F:25}],2:[function(t,i,n){(function(t){function n(i){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t),this.clearTimeout=i&&i.clearTimeout||t.clearTimeout.bind(t),this.U=i&&i.U||10,this.T=[],this.X=!1}n.prototype={defer:function(t,i){1==arguments.length&&(i=t,t=1);var n=this.setTimeout(i,t);return{cancel:function(){this.clearTimeout(n)}.bind(this)}},K:function(t){var i=this.T;return i.push(t),this.X||this.W(),{cancel:function(){i.splice(i.indexOf(t),1)}}},W:function(){var t=function(){this.T.forEach(function(t){t()}),this.setTimeout(t,this.U)}.bind(this);t(),this.X=!0}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){function e(t){this.v=t&&t.v}function o(t,i){this.v=t,this.H=i,this.Y=0,this.interval=100,this.V=function(){return!0}}e.prototype={J:function(){return this.Z(),new o(this.v,Array.prototype.slice.call(arguments))},Z:function(){if(!this.v)throw Error("ActionQueue is required")}},o.prototype={every:function(t){return this.interval=t,this},$:function(t){return this.V=t,this},play:function(){var t=function(){this.V()&&(this.H[this.Y](),this.Y=(this.Y+1)%this.H.length,this.v.defer(this.interval,t))}.bind(this);return t(),this},stop:function(){return this.$(function(){return!1})}},i.t=e},{}],4:[function(t,i,n){function e(t){o.apply(this,arguments),this.text=t&&t.text}var o=t("./Component");e.prototype=Object.assign(new o,{tt:function(){return this.text&&"<p>"+this.text+"</p>"}}),i.t=e},{it:7}],5:[function(t,i,n){function e(t){this.dimensions=t||{left:0,top:0,right:0,bottom:0}}e.prototype={nt:function(t){return new e({left:this.dimensions.left-this.et()*t,right:this.dimensions.right+this.et()*t,top:this.dimensions.top-this.ot()*t,bottom:this.dimensions.bottom+this.ot()*t})},translate:function(t){return new e({left:this.dimensions.left+t.x,right:this.dimensions.right+t.x,top:this.dimensions.top+t.y,bottom:this.dimensions.bottom+t.y})},contains:function(t){return this.dimensions.left<=t.x&&t.x<=this.dimensions.right&&this.dimensions.top<=t.y&&t.y<=this.dimensions.bottom},st:function(){return{x:this.dimensions.left+this.et()/2,y:this.dimensions.top+this.ot()/2}},rt:function(){return{x:this.dimensions.left,y:this.dimensions.top}},ht:function(){return{x:this.dimensions.right,y:this.dimensions.top}},ut:function(){return{x:this.dimensions.left,y:this.dimensions.bottom}},ct:function(){return{x:this.dimensions.right,y:this.dimensions.bottom}},et:function(){return this.dimensions.right-this.dimensions.left},ot:function(){return this.dimensions.bottom-this.dimensions.top}},i.t=e},{}],6:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./Graph");e.prototype=Object.assign(new o,{at:function(){},ft:function(){},reset:function(){}}),i.t=e},{dt:12}],7:[function(t,i,n){function e(t){t&&(this.v=t.v,this.lt=t.lt||250,this.gt=new s({v:this.v,timeout:500,name:"mouseTouchSwitch"})),this.pt=0,this.wt=0,this.vt=!1,this.bt=[]}var o=t("./utils"),s=t("./ModeSwitch"),r=new(t("./Logger"))("Component");e.prototype={Et:function(){},_t:function(){},At:function(){},D:function(t){this.yt(),this.Mt=t,t.addEventListener("mouseup",function(t){r.debug("mouseup",o.Nt(t)),this.gt.Ct("mouse",function(t){this.Rt(t.Ot)}.bind(this))}.bind(this)),t.addEventListener("touchend",function(t){r.debug("touchend",o.Nt(t)),this.gt.Ct("touch",function(t){this.Rt(t.Ot)}.bind(this))}.bind(this)),t.addEventListener("mousedown",function(t){t=o.Nt(t),r.debug("mousedown",t),this.gt.Lt("mouse",function(){return this.Pt(t),{Ot:t}}.bind(this))}.bind(this)),t.addEventListener("touchstart",function(t){t=o.Nt(t),r.debug("touchstart",t),this.gt.Lt("touch",function(){return this.Pt(t),{Ot:t}}.bind(this))}.bind(this)),t.addEventListener("keyup",function(t){t=o.Nt(t),r.debug("keyup",t),13===t.keyCode&&this.At(t)}.bind(this)),this.tt()&&(t.innerHTML=this.tt()),this.St(t)},tt:function(){return null},St:function(t){},xt:function(t){return this.bt.push(t),this},remove:function(){this.bt.forEach(function(t){t(this)}.bind(this)),this.Mt.remove(),r.debug("closed component",this)},yt:function(){if(!this.v)throw Error("actionQueue is required")},Rt:function(t){this.wt++,this.vt?this.vt=!1:this.Et(t)},Pt:function(t){var i=++this.pt;this.v.defer(this.lt,function(){this.pt===i&&this.wt===this.pt-1&&(this.vt=!0,this._t(t))}.bind(this))}},i.t=e},{Gt:16,Dt:17,It:26}],8:[function(t,i,n){function e(t){this.document=t&&t.document,this.v=t&&t.v,this.Bt=t&&t.Bt}t("./utils");var o=t("./Position"),s=t("./Component");e.prototype={jt:function(t){var i=new((t=Object.assign({position:new o({kt:{x:0,y:0}}),Ft:void 0,qt:s,Ut:void 0},t)).qt)(Object.assign({},this.Bt,t.Ut)),n=this.document.createElement("div");if(t.position&&(n.style=t.position.Tt()),"function"==typeof t.Ft){var e=this.v.K(function(){n.style=t.Ft().Tt({width:n.offsetWidth,height:n.offsetHeight})}.bind(this));i.xt(e.cancel.bind(e))}return this.document.body.insertBefore(n,this.document.body.firstChild),i.D(n),i}},i.t=e},{it:7,zt:19,It:26}],9:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./EditMode");e.prototype=Object.assign(new o,{Qt:function(){},Xt:function(){}}),i.t=e},{Kt:10}],10:[function(t,i,n){function e(t){this.g=t&&t.g,this.Wt=t&&t.Wt,this.A=t&&t.A||250,this.Ht=t&&t.Ht,this.Yt=t&&t.Yt||new o({name:"editMode"}),this.Yt.Lt("display")}var o=t("./ModeSwitch"),s=t("./colors"),r=new(t("./Logger"))("EditMode");e.prototype={Qt:function(t){r.info("activating"),this.Xt(),this.Yt.Ct("display").Ct("edit",this.Vt.bind(this)).Lt("edit",function(){var i=this.g.Jt(function(i){return i.id!==t.id}),n=i.reduce(function(t,i){return t[i.id]=i.color,t},{}),e=this.Wt.J(this.Zt.bind(this,i),this.$t.bind(this,i,n)).every(this.A).play();this.Ht.ti(t);var o={ii:t,animation:e,ni:i,ei:n};return r.debug("activated",o),o}.bind(this))},oi:function(){r.debug("deactvating"),this.Xt(),this.Yt.Ct("edit",this.Vt.bind(this)).Lt("display",function(){r.debug("deactvated")})},si:function(t){t=Object.assign({ri:function(){},hi:function(){}},t),this.Xt(),this.Yt.ri({ti:function(i){t.ri(i.ii)},display:t.hi})},Zt:function(t){t.forEach(function(t){this.g.ui(t,s.ci)}.bind(this))},$t:function(t,i){t.forEach(function(t){this.g.ui(t,i[t.id])}.bind(this))},Vt:function(t){r.debug("cleaning up edit mode state",t),t.animation.stop(),this.Ht.display(t.ii),this.$t(t.ni,t.ei)},Xt:function(){if(!this.g)throw new Error("adapter is required");if(!this.Wt)throw new Error("animator is required");if(!this.Yt)throw new Error("modeSwitch is required")}},i.t=e},{Gt:16,Dt:17,ai:23}],11:[function(t,i,n){function e(t){t&&(this.fi=t.fi,this.text=t.text,this.Ft=t.Ft,this.Yt=new o({name:"EditableLabel({ text: '"+this.text+"'})"}),this.di=t.di||function(){})}var o=t("./ModeSwitch"),s=t("./BlockText"),r=t("./TextBox"),h=new(t("./Logger"))("EditableLabel");e.prototype={display:function(){return h.debug("displaying text",this.text),this.Xt(),this.Yt.Ct("edit",function(t){this.text=t.gi.li(),t.gi.remove(),h.debug("got text from input component",this.text)}.bind(this)).Ct("display",function(t){t.gi.remove()}),this.text&&this.Yt.Lt("display",function(){var t=this.fi.jt({qt:s,Ut:{text:this.text},Ft:this.Ft});return this.di(this.text),h.debug("EditableLabel: displaying component with text",this.text),{gi:t}}.bind(this)),this},ti:function(){return h.debug("editing text",this.text),this.Xt(),this.Yt.Ct("display",function(t){t.gi.remove(),h.debug("closed display component")}.bind(this)).Ct("edit",function(t){t.gi.remove()}),this.Yt.Lt("edit",function(){var t=this.fi.jt({qt:r,Ut:{text:this.text,pi:this.display.bind(this)},Ft:this.Ft});return h.debug("opened edit component"),{gi:t}}.bind(this)),this},Xt:function(){if(!this.fi)throw new Error("componentManager is required");if(!this.Yt)throw new Error("modeSwitch is required")},remove:function(){return this.Yt.Ct("display",function(t){t.gi.remove()}).Ct("edit",function(t){t.gi.remove()}),this},wi:function(t){t.gi.remove()}},e.vi={create:function(t){return new e(t)}},i.t=e},{mi:4,Gt:16,Dt:17,bi:21}],12:[function(t,i,n){function e(t){this.state=t&&t.state,this.g=t&&t.g,this.v=t&&t.v,this.Ht=t&&t.Ht,this.Ei=t&&t.Ei||s._i(o.Ai,o.yi),this.Mi=t&&t.Mi,this._=t&&t._,this.C=t&&t.C||[],this.O=t&&t.O||[]}var o=t("./colors"),s=t("./utils"),r=new(t("./Logger"))("Graph");e.prototype={initialize:function(t){this.Xt(),r.debug("initializing graph",this),this.g.initialize(t.Mt,s.Ni({width:t.width,height:t.height,Ci:this.C.map(function(t){return s.Ni({id:t.id,color:t.color||this.Ei[0],label:"",size:this.Mi},{Ri:["id","label"]})}.bind(this)),Oi:this.O,_:this._})),this.v.defer(function(){r.debug("initializing label set"),this.Ht.initialize(this.C.map(function(t){return{ii:this.g.Li(t.id),label:t.label}}.bind(this)))}.bind(this))},at:function(){var t=this.state.Pi({color:this.Ei[0]}),i=s.Ni({id:t,color:this.Ei[0],label:"",size:this.Mi},{Ri:["id","label"]});this.g.at(i)},Si:function(t){var i=this.xi(t),n=this.Ei[i];this.g.ui(t,n),this.state.Pi({id:t.id,color:n})},ft:function(t,i){this.g.ft({source:t,target:i,Gi:this._}),this.state.Di(t.id,i.id)},reset:function(){this.g.Ii(function(){this.state.R().forEach(function(t){this.g.removeNode(t)}.bind(this))}.bind(this)),this.state.reset(),this.Ht.Bi()},xi:function(t){return(this.Ei.indexOf(t.color)+1)%this.Ei.length},Xt:function(){if(!this.state)throw new Error("state is required");if(!this.g)throw new Error("adapter is required");if(!this.v)throw new Error("actionQueue is required");if(!this.Ht)throw new Error("labelSet is required")}},i.t=e},{Gt:16,ai:23,It:26}],13:[function(t,i,n){function e(t){o.apply(this,arguments),this.g=t&&t.g,this.ji=t&&t.ji,this.P=t&&t.P,this.width=t&&t.width,this.height=t&&t.height,this.m=t.m}var o=t("./Component");t("./utils"),new(t("./Logger"))("GraphComponent");e.prototype=Object.assign(new o,{St:function(t){this.P.initialize({Mt:t,width:this.width,height:this.height})},Et:function(t){var i=this.g.qi(t,this.m);this.ji.si({ri:function(t){i.ki()&&i.id!==t.id?this.P.ft(t,i):this.ji.oi()}.bind(this),hi:function(){i.ki()?this.P.Si(i):this.P.at()}.bind(this)})},_t:function(t){var i=this.g.qi(t,this.m);i.ki()&&this.ji.Qt(i)},reset:function(){this.P.reset(),this.ji.oi()},yt:function(){if(o.prototype.yt.call(this,arguments),!this.g)throw new Error("adapter is required");if(!this.ji)throw new Error("edit mode is required");if(!this.P)throw new Error("graph is required")}}),i.t=e},{it:7,Gt:16,It:26}],14:[function(t,i,n){function e(t){this.p=t,this.Fi=!1}var o=t("./graphelements"),s=t("./utils"),r=t("./BoundingBox"),h=new(t("./Logger"))("GreulerAdapter");e.prototype={initialize:function(t,i){i=i||{},this.Ui=this.p(s.Ni({target:"#"+t.id,width:i.width,height:i.height,data:s.Ni({Ci:i.Ci&&i.Ci.map(this.Ti),links:i.Oi,zi:i._&&function(){return i._}})})).update(),this.P=this.Ui.P},at:function(t){this.P.at(this.Ti(t));this.Qi()},removeNode:function(t){this.P.removeNode(this.Ti(t));this.Qi()},ft:function(t){this.P.ft(s.Ni({source:t.source.id,target:t.target.id,zi:t.Gi},{Ri:["source","target"]}));this.Qi()},ui:function(t,i){if(t.Xi)t.Xi.setAttribute("fill",i);else if(t.id){var n=this.P.Li({id:t.id});this.Ki(n).setAttribute("fill",i)}else h.error("Got unexpected target node",t)},qi:function(t,i){return this.Wi(t,i)||o.NONE},Li:function(t){return h.debug("retrieving node",t),this.Jt(function(i){return i.id===t})[0]},Jt:function(t){return t=t||function(){return!0},this.P.Hi(t).map(function(t){var i=this.Ki(t);return new o.Node({id:t.id,Yi:t,Xi:i,color:i.getAttribute("fill"),Vi:this.Ji.bind(this,t)})}.bind(this))},Ii:function(t){this.Fi=!0,t(this),this.Fi=!1,this.Qi()},Ti:function(t){return s.Ni({id:t.id,fill:t.color,label:t.label||"",r:t.size},{Ri:["id","label"]})},Ki:function(t){h.debug("retrieving dom element for node: "+t.index,this.Ui);var i=this.Ui.Zi[0][0].childNodes;return h.debug(i),i[t.index].getElementsByTagName("circle")[0]},Wi:function(t,i){i=i||0;var n={x:t.clientX,y:t.clientY},e=this.Jt(function(t){return this.Ji(t).nt(i).contains(n)}.bind(this));return e&&e.length?(e.sort(function(t,i){return s.Gi(t.st(),n)-s.Gi(i.st(),n)}),e[0]):void 0},Qi:function(){this.Fi||(this.Ui=this.Ui.update())},Ji:function(t){var i=this.Ui.root[0][0].getBoundingClientRect();return new r({left:t.bounds.x,right:t.bounds.$i,top:t.bounds.y,bottom:t.bounds.tn}).translate({x:i.left,y:i.top})}},i.t=e},{in:5,Gt:16,nn:24,It:26}],15:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./Graph");e.prototype=Object.assign(new o,{at:function(){},Si:function(){},ft:function(){},reset:function(){}}),i.t=e},{dt:12}],16:[function(t,i,n){(function(t){function n(t){this.name=t||"Logger"}var e=["DEBUG","INFO","WARN","ERROR"];n.level="WARN",n.en={},n.prototype={debug:function(t,i){this.on.apply(this,[(new Date).getTime(),"DEBUG",this.name].concat(Array.prototype.splice.call(arguments,0)))},info:function(t,i){this.on.apply(this,[(new Date).getTime(),"INFO",this.name].concat(Array.prototype.splice.call(arguments,0)))},warn:function(t,i){this.on.apply(this,[(new Date).getTime(),"WARN",this.name].concat(Array.prototype.splice.call(arguments,0)))},error:function(t,i){this.on.apply(this,[(new Date).getTime(),"ERROR",this.name].concat(Array.prototype.splice.call(arguments,0)))},on:function(){var i=arguments[1],o=n.en[this.name]||n.level;e.indexOf(i)>=e.indexOf(o)&&t.console.log.apply(t.console.log,arguments)}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,i,n){function e(t){this.v=t&&t.v,this.timeout=t&&t.timeout||0,this.sn=t&&t.rn||{},this.name=t&&t.name||"ModeSwitch",this.hn=null,this.un=null,o.debug("Initialized "+this.name,this)}var o=new(t("./Logger"))("ModeSwitch");e.prototype={Lt:function(t,i){if(this.Xt(),this.cn(t)){o.debug(this.name+": Entering '"+t+"'",this);var n=(i||function(){})();this.sn[t]=n,this.hn=t,this.an()}else o.debug(this.name+": Not entering '"+t+"'; active mode is "+this.hn,this);return this},Ct:function(t,i){return this.Xt(),this.fn(t)?(o.debug(this.name+": Exiting "+t,this),(i||function(){})(this.sn[t]),this.dn()):o.debug(this.name+": Not exiting '"+t+"'; active mode is "+this.hn,this),this},ri:function(t){var i=this.hn||"default",n=t[i];return n?(o.debug(this.name+": Found callback for active mode",i,t),n(this.sn[this.hn||"default"])):o.debug(this.name+": No callback for active mode",i,t),this},cn:function(t){return!this.hn||this.fn(t)},fn:function(t){return this.hn===t},an:function(){this.un&&this.un.cancel()},dn:function(){var t=function(){delete this.sn[this.hn],this.hn=null}.bind(this);this.an(),this.timeout?this.un=this.v.defer(this.timeout,t):t()},Xt:function(){if(this.timeout&&!this.v)throw new Error("action queue is required if a timeout is specified")}},i.t=e},{Gt:16}],18:[function(t,i,n){function e(t){this.fi=t&&t.fi,this.state=t&&t.state,this.ln=t&&t.ln||s.vi,this.labels={}}var o=t("./Position"),s=t("./EditableLabel"),r=new(t("./Logger"))("NodeLabelSet");e.prototype={initialize:function(t){r.debug("initializing",t),t.filter(function(t){return!!t.label}).forEach(function(t){var i=this.gn(t.ii,t.label);this.labels[t.ii.id]=i,i.display()}.bind(this))},ti:function(t){r.debug("editing label for node "+t.id),this.pn(t).ti()},display:function(t){r.debug("displaying label for node "+t.id),this.pn(t).display()},Bi:function(){Object.values(this.labels).forEach(function(t){t.remove()}),this.labels={}},pn:function(t){var i;return this.labels[t.id]?(i=this.labels[t.id],r.info("reusing existing label for node "+t.id,i)):(i=this.gn(t),this.labels[t.id]=i,r.info("created new label for node "+t.id,i)),i},gn:function(t,i){return r.debug("Creating label",t),this.ln.create({text:i,fi:this.fi,Ft:function(){return new o({wn:t.Vi().rt()})},di:function(i){r.debug("saving label",t,i),this.state.Pi({id:t.id,label:i})}.bind(this)})},Xt:function(){if(!this.fi)throw new Error("componentManager is required");if(!this.state)throw new Error("state is required")}},i.t=e},{vn:11,Gt:16,zt:19}],19:[function(t,i,n){function e(t){if(!o.mn(t))throw new Error("invalid position object "+t);Object.assign(this,t)}var o=t("./utils");e.prototype={Tt:function(t){if(t=Object.assign({width:0,height:0},t),this.kt)return"position: absolute; left: "+this.kt.x+"; top: "+this.kt.y+";";if(this.bn)return"position: absolute; left: "+(this.bn.x-t.width)+"; top: "+this.bn.y+";";if(this.En)return"position: absolute; left: "+this.En.x+"; top: "+(this.En.y-t.height)+";";if(this.wn)return"position: absolute; left: "+(this.wn.x-t.width)+"; top: "+(this.wn.y-t.height)+";";throw new Error("invalid position object: "+this)}},i.t=e},{It:26}],20:[function(t,i,n){function e(t){o.apply(this,arguments),this.G=t?t.G:[]}var o=t("./Component");e.prototype=Object.assign(new o,{Et:function(t){this.G.forEach(function(t){t.reset()})}}),i.t=e},{it:7}],21:[function(t,i,n){function e(t){o.apply(this,arguments),this._n=t&&t.text||"",this.pi=t&&t.pi||function(){}}var o=t("./Component");e.prototype=Object.assign(new o,{tt:function(){return'<input type="text" value="'+this._n+'"></input>'},li:function(){return this.Mt.getElementsByTagName("input")[0].value},At:function(t){this.pi()}}),i.t=e},{it:7}],22:[function(t,i,n){function e(t){this.o=t&&t.o,this.s=t&&t.s,this.h=t&&t.h}var o=t("./utils");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",LABEL_PARAM_PREFIX="l_",e.prototype={Pi:function(t){var i;return(t=t||{}).hasOwnProperty("id")&&null!==t.id&&void 0!==t.id?i=t.id:(i=this.An(),this.h.set(NUM_NODES_PARAM,i+1)),t.color&&this.yn(i,t.color),t.label&&this.Mn(i,t.label),this.Nn(),i},Cn:function(t){var i=this.Rn(t),n=this.On().find(function(t){return this.Ln({Pn:i,Sn:t})}.bind(this)),e=this.h.get(LABEL_PARAM_PREFIX+t);return o.Ni({id:t,color:n&&n.replace(COLOR_PARAM_PREFIX,"#"),label:e&&decodeURIComponent(e)},{Ri:"id"})},Di:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this.h.has(e)?this.xn(e)|this.Rn(i):this.Rn(i),this.Gn(e,n),this.Nn()},R:function(){var t=[];if(this.h.has(NUM_NODES_PARAM))for(var i=0;i<this.h.get(NUM_NODES_PARAM);i++)t.push(this.Cn(i));return t},L:function(){return this.Dn().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.xn(t),o=e.toString(2).length,s=0;s<o;s++){var r=this.Rn(s);(e&r)===r&&n.push({source:i,target:s})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},Mn:function(t,i){this.h.set(LABEL_PARAM_PREFIX+t,encodeURIComponent(i))},In:function(){return this.o+"?"+this.h.toString()},reset:function(){this.Bn().forEach(function(t){this.h.delete(t)}.bind(this)),this.Nn()},Ln:function(t){return t=this.jn(t),!!this.h.has(t.Sn)&&(this.xn(t.Sn)&t.Pn)===t.Pn},qn:function(t){t=this.jn(t);var i;i=this.h.has(t.Sn)?this.xn(t.Sn)|t.Pn:t.Pn,this.Gn(t.Sn,i)},kn:function(t){if(t=this.jn(t),!this.h.has(t.Sn))throw Error("Attempted to remove color "+t.Sn);var i=this.xn(t.Sn)&~t.Pn;0===i?this.h.delete(t.Sn):this.Gn(t.Sn,i)},xn:function(t){return parseInt(this.h.get(t),16)},Gn:function(t,i){this.h.set(t,i.toString(16))},Rn:function(t){return t<=30?1<<t:Math.pow(2,t)},jn:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{Pn:t.hasOwnProperty("bit")?t.Pn:this.Rn(t.Fn),Sn:t.hasOwnProperty("colorKey")?t.Sn:t.color.replace("#",COLOR_PARAM_PREFIX)}},On:function(){return this.Bn(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},Dn:function(){return this.Bn(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},Bn:function(t){t=t||function(){return!0};for(var i=[],n=this.h.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},An:function(){return this.h.has(NUM_NODES_PARAM)?parseInt(this.h.get(NUM_NODES_PARAM)):0},yn:function(t,i){var n=this.Rn(t);this.On().forEach(function(t){this.Ln({Pn:n,Sn:t})&&this.kn({Pn:n,Sn:t})}.bind(this)),this.qn({Pn:n,color:i})},Nn:function(){this.s(this.In())}},i.t=e},{It:26}],23:[function(t,i,n){i.t={Un:"#db190f",Tn:"#f76402",zn:"#fbff14",Qn:"#28b92b",Xn:"#2826b5",yi:"#2980B9",Kn:"#8c28b7",ci:"#00FF00",Ai:["#db190f","#f76402","#fbff14","#28b92b","#2826b5","#2980B9","#8c28b7"]}},{}],24:[function(t,i,n){function e(t){t&&(this.id=t.id,this.Xi=t.Xi)}function o(t){e.apply(this,arguments),t&&(this.Yi=t.Yi,this.color=t.color,this.Vi=t.Vi)}function s(){e.apply(this,arguments)}function r(){e.apply(this,arguments)}e.prototype={ki:function(){return!1},Wn:function(){return!1}},o.prototype=Object.assign(new e,{ki:function(){return!0},st:function(){return this.Vi().st()},rt:function(){return this.Vi().rt()},ht:function(){return this.Vi().ht()},ut:function(){return this.Vi().ut()},ct:function(){return this.Vi().ct()}}),s.prototype=Object.assign(new e,{Wn:function(){return!0}}),r.prototype=Object.assign(new e,{}),i.t={Node:o,Hn:s,NONE:new r}},{}],25:[function(t,i,n){var e=t("./Animator"),o=t("./ColorChangingGraph"),s=t("./ComponentManager"),r=t("./DisallowedEditMode"),h=t("./EditMode"),u=t("./Graph"),c=t("./GraphComponent"),a=(t("./GreulerAdapter"),t("./ImmutableGraph")),f=t("./NodeLabelSet"),d=t("./utils"),l=new(t("./Logger"))("graphfactory");i.t={Yn:function(t){l.debug("instantiating immmutable graph",t);var i=d.Vn(t.v),n=d.Vn(t.state),e=d.Vn(t.g),o=t.Ht||new f({fi:t.fi||this.Jn(t),state:n});return new a({state:n,g:e,v:i,Ht:o,C:t.C,O:t.O,Mi:t.Mi,_:t._})},Zn:function(t){l.debug("instantiating color changing graph",t);var i=d.Vn(t.v),n=d.Vn(t.state),e=d.Vn(t.g),s=t.Ht||new f({fi:t.fi||this.Jn(t),state:n});return new o({state:n,g:e,v:i,Ht:s,C:t.C,O:t.O,Mi:t.Mi,_:t._})},$n:function(t){l.debug("instantiating mutable graph",t);var i=d.Vn(t.v),n=d.Vn(t.state),e=d.Vn(t.g),o=t.Ht||new f({fi:t.fi||this.Jn(t),state:n});return new u({state:n,g:e,v:i,Ht:o,C:t.C,O:t.O,Mi:t.Mi,_:t._})},te:function(t){return t.M?this.Yn(t):t.N?this.Zn(t):this.$n(t)},l:function(t){var i,n=d.Vn(t.v),o=d.Vn(t.g),s=d.Vn(t.state),u=t.fi=this.Jn(t),a=new f({fi:u,state:s});return i=t.M||t.N?new r:new h({g:o,Wt:new e({v:n}),Ht:a,A:t.A}),new c(Object.assign({P:this.te(t),g:o,ji:i,width:t.width,height:t.height,m:t.m},this.ie(t)))},Jn:function(t){return new s({v:d.Vn(t.v),Bt:this.ie(t),document:d.Vn(t.document)})},ie:function(t){return{v:d.Vn(t.v)}}}},{ne:3,ee:6,oe:8,se:9,Kt:10,dt:12,re:13,he:14,ue:15,Gt:16,ce:18,It:26}],26:[function(t,i,n){i.t={Gi:function(t,i){var n=t.x-i.x,e=t.y-i.y;return Math.sqrt(n*n+e*e)},Ni:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.Ri&&(i.Ri.constructor===Array?i.Ri.forEach(function(i){n[i]=t[i]}):n[i.Ri]=t[i.Ri]),n},Nt:function(t){return t&&t.touches&&t.touches.length?Object.assign(t,{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,screenX:t.touches[0].screenX,screenY:t.touches[0].screenY}):t},mn:function(t){return!(!t||"object"!=typeof t||Array.isArray(t))&&1===Object.keys(t).filter(function(i){return!!t[i]}).length},_i:function(t,i){var n=t.indexOf(i);if(n>=0){for(var e=[],o=n;o<t.length;o++)e.push(t[o]);for(o=0;o<n;o++)e.push(t[o]);return e}return t},Vn:function(t){if(!t)throw new Error("missing required object");return t}}},{}]},{},[1]);