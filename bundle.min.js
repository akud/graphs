!function t(i,n,e){function o(r,h){if(!n[r]){if(!i[r]){var u="function"==typeof require&&require;if(!h&&u)return u(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[r]={t:{}};i[r][0].call(a.t,function(t){var n=i[r][1][t];return o(n||t)},a,a.t,t,i,n,e)}return n[r].t}for(var s="function"==typeof require&&require,r=0;r<e.length;r++)o(e[r]);return o}({1:[function(t,i,n){(function(i){var n=t("./src/GreulerAdapter"),e=t("./src/UrlState"),o=t("./src/ActionQueue"),s=t("./src/ResetButton"),r=t("./src/graphfactory");t("./src/Logger").level=i.i;var h,u=new o,c=new URLSearchParams(window.location.search),a=new e({o:window.location.protocol+"//"+window.location.host+window.location.pathname,s:window.history.replaceState.bind(window.history,{},""),h:c}),f=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),d=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));f<1e3&&(Math.floor(Math.min(f,d)*(1/18)),h=200),i.u=r.l({document:i.document,g:new n(i.p),v:u,state:a,width:f,height:d,m:.1,_:h,A:250,C:"true"===c.get("immutable"),M:"true"===c.get("onlyChangeColors"),N:c.has("colorChoices")&&c.getAll("colorChoices").map(function(t){return"#"+t}),R:a.O(),L:a.P()}),i.S=i.u.S,i.G=new s(Object.assign({D:[i.u]},{v:u})),i.u.I(document.getElementById("main-graph")),i.G.I(document.getElementById("reset-button"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{B:2,j:14,q:16,k:20,F:22,U:25}],2:[function(t,i,n){(function(t){function n(i){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t),this.clearTimeout=i&&i.clearTimeout||t.clearTimeout.bind(t),this.T=i&&i.T||10,this.X=[],this.K=!1}n.prototype={defer:function(t,i){1==arguments.length&&(i=t,t=1);var n=this.setTimeout(i,t);return{cancel:function(){this.clearTimeout(n)}.bind(this)}},W:function(t){var i=this.X;return i.push(t),this.K||this.H(),{cancel:function(){i.splice(i.indexOf(t),1)}}},H:function(){var t=function(){this.X.forEach(function(t){t()}),this.setTimeout(t,this.T)}.bind(this);t(),this.K=!0}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){function e(t){this.v=t&&t.v}function o(t,i){this.v=t,this.Y=i,this.V=0,this.interval=100,this.J=function(){return!0}}e.prototype={Z:function(){return this.$(),new o(this.v,Array.prototype.slice.call(arguments))},$:function(){if(!this.v)throw Error("ActionQueue is required")}},o.prototype={every:function(t){return this.interval=t,this},tt:function(t){return this.J=t,this},play:function(){var t=function(){this.J()&&(this.Y[this.V](),this.V=(this.V+1)%this.Y.length,this.v.defer(this.interval,t))}.bind(this);return t(),this},stop:function(){return this.tt(function(){return!1})}},i.t=e},{}],4:[function(t,i,n){function e(t){o.apply(this,arguments),this.text=t&&t.text}var o=t("./Component");e.prototype=Object.assign(new o,{it:function(){return this.text&&"<p>"+this.text+"</p>"}}),i.t=e},{nt:7}],5:[function(t,i,n){function e(t){this.dimensions=t||{left:0,top:0,right:0,bottom:0}}e.prototype={et:function(t){return new e({left:this.dimensions.left-this.ot()*t,right:this.dimensions.right+this.ot()*t,top:this.dimensions.top-this.st()*t,bottom:this.dimensions.bottom+this.st()*t})},translate:function(t){return new e({left:this.dimensions.left+t.x,right:this.dimensions.right+t.x,top:this.dimensions.top+t.y,bottom:this.dimensions.bottom+t.y})},contains:function(t){return this.dimensions.left<=t.x&&t.x<=this.dimensions.right&&this.dimensions.top<=t.y&&t.y<=this.dimensions.bottom},rt:function(){return{x:this.dimensions.left+this.ot()/2,y:this.dimensions.top+this.st()/2}},ht:function(){return{x:this.dimensions.left,y:this.dimensions.top}},ut:function(){return{x:this.dimensions.right,y:this.dimensions.top}},ct:function(){return{x:this.dimensions.left,y:this.dimensions.bottom}},at:function(){return{x:this.dimensions.right,y:this.dimensions.bottom}},ot:function(){return this.dimensions.right-this.dimensions.left},st:function(){return this.dimensions.bottom-this.dimensions.top}},i.t=e},{}],6:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./Graph");e.prototype=Object.assign(new o,{ft:function(){},dt:function(){},reset:function(){}}),i.t=e},{lt:12}],7:[function(t,i,n){function e(t){t&&(this.v=t.v,this.gt=t.gt||250,this.pt=new s({v:this.v,timeout:500,name:"mouseTouchSwitch"})),this.wt=0,this.vt=0,this.bt=!1,this.Et=[]}var o=t("./utils"),s=t("./ModeSwitch"),r=new(t("./Logger"))("Component");e.prototype={_t:function(){},At:function(){},Ct:function(){},I:function(t){this.yt(),this.Mt=t,t.addEventListener("mouseup",function(t){r.debug("mouseup",o.Nt(t)),this.pt.Rt("mouse",function(t){this.Ot(t.Lt)}.bind(this))}.bind(this)),t.addEventListener("touchend",function(t){r.debug("touchend",o.Nt(t)),this.pt.Rt("touch",function(t){this.Ot(t.Lt)}.bind(this))}.bind(this)),t.addEventListener("mousedown",function(t){t=o.Nt(t),r.debug("mousedown",t),this.pt.Pt("mouse",function(){return this.St(t),{Lt:t}}.bind(this))}.bind(this)),t.addEventListener("touchstart",function(t){t=o.Nt(t),r.debug("touchstart",t),this.pt.Pt("touch",function(){return this.St(t),{Lt:t}}.bind(this))}.bind(this)),t.addEventListener("keyup",function(t){t=o.Nt(t),r.debug("keyup",t),13===t.keyCode&&this.Ct(t)}.bind(this)),this.it()&&(t.innerHTML=this.it()),this.xt(t)},it:function(){return null},xt:function(t){},Gt:function(t){return this.Et.push(t),this},remove:function(){this.Et.forEach(function(t){t(this)}.bind(this)),this.Mt.remove(),r.debug("closed component",this)},yt:function(){if(!this.v)throw Error("actionQueue is required")},Ot:function(t){this.vt++,this.bt?this.bt=!1:this._t(t)},St:function(t){var i=++this.wt;this.v.defer(this.gt,function(){this.wt===i&&this.vt===this.wt-1&&(this.bt=!0,this.At(t))}.bind(this))}},i.t=e},{Dt:16,It:17,Bt:26}],8:[function(t,i,n){function e(t){this.document=t&&t.document,this.v=t&&t.v,this.jt=t&&t.jt}t("./utils");var o=t("./Position"),s=t("./Component");e.prototype={qt:function(t){var i=new((t=Object.assign({position:new o({Ft:{x:0,y:0}}),Ut:void 0,kt:s,Tt:void 0},t)).kt)(Object.assign({},this.jt,t.Tt)),n=this.document.createElement("div");if(t.position&&(n.style=t.position.zt()),"function"==typeof t.Ut){var e=this.v.W(function(){n.style=t.Ut().zt({width:n.offsetWidth,height:n.offsetHeight})}.bind(this));i.Gt(e.cancel.bind(e))}return this.document.body.insertBefore(n,this.document.body.firstChild),i.I(n),i}},i.t=e},{nt:7,Qt:19,Bt:26}],9:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./EditMode");e.prototype=Object.assign(new o,{Xt:function(){},Kt:function(){}}),i.t=e},{Wt:10}],10:[function(t,i,n){function e(t){this.g=t&&t.g,this.Ht=t&&t.Ht,this.A=t&&t.A||250,this.Yt=t&&t.Yt,this.Vt=t&&t.Vt||new o({name:"editMode"}),this.Vt.Pt("display")}var o=t("./ModeSwitch"),s=t("./colors"),r=new(t("./Logger"))("EditMode");e.prototype={Xt:function(t){r.info("activating"),this.Kt(),this.Vt.Rt("display").Rt("edit",this.Jt.bind(this)).Pt("edit",function(){var i=this.g.Zt(function(i){return i.id!==t.id}),n=i.reduce(function(t,i){return t[i.id]=i.color,t},{}),e=this.Ht.Z(this.$t.bind(this,i),this.ti.bind(this,i,n)).every(this.A).play();this.Yt.ii(t);var o={ni:t,animation:e,ei:i,oi:n};return r.debug("activated",o),o}.bind(this))},si:function(){r.debug("deactvating"),this.Kt(),this.Vt.Rt("edit",this.Jt.bind(this)).Pt("display",function(){r.debug("deactvated")})},ri:function(t){t=Object.assign({hi:function(){},ui:function(){}},t),this.Kt(),this.Vt.hi({ii:function(i){t.hi(i.ni)},display:t.ui})},$t:function(t){t.forEach(function(t){this.g.ci(t,s.ai)}.bind(this))},ti:function(t,i){t.forEach(function(t){this.g.ci(t,i[t.id])}.bind(this))},Jt:function(t){r.debug("cleaning up edit mode state",t),t.animation.stop(),this.Yt.display(t.ni),this.ti(t.ei,t.oi)},Kt:function(){if(!this.g)throw new Error("adapter is required");if(!this.Ht)throw new Error("animator is required");if(!this.Vt)throw new Error("modeSwitch is required")}},i.t=e},{Dt:16,It:17,fi:23}],11:[function(t,i,n){function e(t){t&&(this.di=t.di,this.text=t.text,this.Ut=t.Ut,this.Vt=new o({name:"EditableLabel({ text: '"+this.text+"'})"}),this.li=t.li||function(){})}var o=t("./ModeSwitch"),s=t("./BlockText"),r=t("./TextBox"),h=new(t("./Logger"))("EditableLabel");e.prototype={display:function(){return h.debug("displaying text",this.text),this.Kt(),this.Vt.Rt("edit",function(t){this.text=t.pi.gi(),t.pi.remove(),h.debug("got text from input component",this.text)}.bind(this)).Rt("display",function(t){t.pi.remove()}),this.text&&this.Vt.Pt("display",function(){var t=this.di.qt({kt:s,Tt:{text:this.text},Ut:this.Ut});return this.li(this.text),h.debug("EditableLabel: displaying component with text",this.text),{pi:t}}.bind(this)),this},ii:function(){return h.debug("editing text",this.text),this.Kt(),this.Vt.Rt("display",function(t){t.pi.remove(),h.debug("closed display component")}.bind(this)).Rt("edit",function(t){t.pi.remove()}),this.Vt.Pt("edit",function(){var t=this.di.qt({kt:r,Tt:{text:this.text,wi:this.display.bind(this)},Ut:this.Ut});return h.debug("opened edit component"),{pi:t}}.bind(this)),this},Kt:function(){if(!this.di)throw new Error("componentManager is required");if(!this.Vt)throw new Error("modeSwitch is required")},remove:function(){return this.Vt.Rt("display",function(t){t.pi.remove()}).Rt("edit",function(t){t.pi.remove()}),this},vi:function(t){t.pi.remove()}},e.mi={create:function(t){return new e(t)}},i.t=e},{bi:4,Dt:16,It:17,Ei:21}],12:[function(t,i,n){function e(t){this.state=t&&t.state,this.g=t&&t.g,this.v=t&&t.v,this.Yt=t&&t.Yt,this.N=t&&t.N||s._i(o.Ai,o.Ci),this.yi=t&&t.yi,this._=t&&t._,this.R=t&&t.R||[],this.L=t&&t.L||[]}var o=t("./colors"),s=t("./utils"),r=new(t("./Logger"))("Graph");e.prototype={initialize:function(t){this.Kt(),r.debug("initializing graph",this),this.g.initialize(t.Mt,s.Mi({width:t.width,height:t.height,Ni:this.R.map(function(t){return s.Mi({id:t.id,color:t.color||this.N[0],label:"",size:this.yi},{Ri:["id","label"]})}.bind(this)),Oi:this.L,_:this._})),this.v.defer(function(){r.debug("initializing label set"),this.Yt.initialize(this.R.map(function(t){return{ni:this.g.Li(t.id),label:t.label}}.bind(this)))}.bind(this))},ft:function(){var t=this.state.Pi({color:this.N[0]}),i=s.Mi({id:t,color:this.N[0],label:"",size:this.yi},{Ri:["id","label"]});this.g.ft(i)},Si:function(t){var i=this.xi(t),n=this.N[i];this.g.ci(t,n),this.state.Pi({id:t.id,color:n})},dt:function(t,i){this.g.dt({source:t,target:i,Gi:this._}),this.state.Di(t.id,i.id)},reset:function(){this.g.Ii(function(){this.state.O().forEach(function(t){this.g.removeNode(t)}.bind(this))}.bind(this)),this.state.reset(),this.Yt.Bi()},xi:function(t){return(this.N.indexOf(t.color)+1)%this.N.length},Kt:function(){if(!this.state)throw new Error("state is required");if(!this.g)throw new Error("adapter is required");if(!this.v)throw new Error("actionQueue is required");if(!this.Yt)throw new Error("labelSet is required")}},i.t=e},{Dt:16,fi:23,Bt:26}],13:[function(t,i,n){function e(t){o.apply(this,arguments),this.g=t&&t.g,this.ji=t&&t.ji,this.S=t&&t.S,this.width=t&&t.width,this.height=t&&t.height,this.m=t.m}var o=t("./Component");t("./utils"),new(t("./Logger"))("GraphComponent");e.prototype=Object.assign(new o,{xt:function(t){this.S.initialize({Mt:t,width:this.width,height:this.height})},_t:function(t){var i=this.g.qi(t,this.m);this.ji.ri({hi:function(t){i.ki()&&i.id!==t.id?this.S.dt(t,i):this.ji.si()}.bind(this),ui:function(){i.ki()?this.S.Si(i):this.S.ft()}.bind(this)})},At:function(t){var i=this.g.qi(t,this.m);i.ki()&&this.ji.Xt(i)},reset:function(){this.S.reset(),this.ji.si()},yt:function(){if(o.prototype.yt.call(this,arguments),!this.g)throw new Error("adapter is required");if(!this.ji)throw new Error("edit mode is required");if(!this.S)throw new Error("graph is required")}}),i.t=e},{nt:7,Dt:16,Bt:26}],14:[function(t,i,n){function e(t){this.p=t,this.Fi=!1}var o=t("./graphelements"),s=t("./utils"),r=t("./BoundingBox"),h=new(t("./Logger"))("GreulerAdapter");e.prototype={initialize:function(t,i){i=i||{},this.Ui=this.p(s.Mi({target:"#"+t.id,width:i.width,height:i.height,data:s.Mi({Ni:i.Ni&&i.Ni.map(this.Ti),links:i.Oi,zi:i._&&function(){return i._}})})).update(),this.S=this.Ui.S},ft:function(t){this.S.ft(this.Ti(t));this.Qi()},removeNode:function(t){this.S.removeNode(this.Ti(t));this.Qi()},dt:function(t){this.S.dt(s.Mi({source:t.source.id,target:t.target.id,zi:t.Gi},{Ri:["source","target"]}));this.Qi()},ci:function(t,i){if(t.Xi)t.Xi.setAttribute("fill",i);else if(t.id){var n=this.S.Li({id:t.id});this.Ki(n).setAttribute("fill",i)}else h.error("Got unexpected target node",t)},qi:function(t,i){return this.Wi(t,i)||o.NONE},Li:function(t){return h.debug("retrieving node",t),this.Zt(function(i){return i.id===t})[0]},Zt:function(t){return t=t||function(){return!0},this.S.Hi(t).map(function(t){var i=this.Ki(t);return new o.Node({id:t.id,Yi:t,Xi:i,color:i.getAttribute("fill"),Vi:this.Ji.bind(this,t)})}.bind(this))},Ii:function(t){this.Fi=!0,t(this),this.Fi=!1,this.Qi()},Ti:function(t){return s.Mi({id:t.id,fill:t.color,label:t.label||"",r:t.size},{Ri:["id","label"]})},Ki:function(t){h.debug("retrieving dom element for node: "+t.index,this.Ui);var i=this.Ui.Zi[0][0].childNodes;return h.debug(i),i[t.index].getElementsByTagName("circle")[0]},Wi:function(t,i){i=i||0;var n={x:t.clientX,y:t.clientY},e=this.Zt(function(t){return this.Ji(t).et(i).contains(n)}.bind(this));return e&&e.length?(e.sort(function(t,i){return s.Gi(t.rt(),n)-s.Gi(i.rt(),n)}),e[0]):void 0},Qi:function(){this.Fi||(this.Ui=this.Ui.update())},Ji:function(t){var i=this.Ui.root[0][0].getBoundingClientRect();return new r({left:t.bounds.x,right:t.bounds.$i,top:t.bounds.y,bottom:t.bounds.tn}).translate({x:i.left,y:i.top})}},i.t=e},{in:5,Dt:16,nn:24,Bt:26}],15:[function(t,i,n){function e(){o.apply(this,arguments)}var o=t("./Graph");e.prototype=Object.assign(new o,{ft:function(){},Si:function(){},dt:function(){},reset:function(){}}),i.t=e},{lt:12}],16:[function(t,i,n){(function(t){function n(t){this.name=t||"Logger"}var e=["DEBUG","INFO","WARN","ERROR"];n.level="WARN",n.en={},n.prototype={debug:function(t,i){this.on.apply(this,[(new Date).getTime(),"DEBUG",this.name].concat(Array.prototype.splice.call(arguments,0)))},info:function(t,i){this.on.apply(this,[(new Date).getTime(),"INFO",this.name].concat(Array.prototype.splice.call(arguments,0)))},warn:function(t,i){this.on.apply(this,[(new Date).getTime(),"WARN",this.name].concat(Array.prototype.splice.call(arguments,0)))},error:function(t,i){this.on.apply(this,[(new Date).getTime(),"ERROR",this.name].concat(Array.prototype.splice.call(arguments,0)))},on:function(){var i=arguments[1],o=n.en[this.name]||n.level;e.indexOf(i)>=e.indexOf(o)&&t.console.log.apply(t.console.log,arguments)}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,i,n){function e(t){this.v=t&&t.v,this.timeout=t&&t.timeout||0,this.sn=t&&t.rn||{},this.name=t&&t.name||"ModeSwitch",this.hn=null,this.un=null,o.debug("Initialized "+this.name,this)}var o=new(t("./Logger"))("ModeSwitch");e.prototype={Pt:function(t,i){if(this.Kt(),this.cn(t)){o.debug(this.name+": Entering '"+t+"'",this);var n=(i||function(){})();this.sn[t]=n,this.hn=t,this.an()}else o.debug(this.name+": Not entering '"+t+"'; active mode is "+this.hn,this);return this},Rt:function(t,i){return this.Kt(),this.fn(t)?(o.debug(this.name+": Exiting "+t,this),(i||function(){})(this.sn[t]),this.dn()):o.debug(this.name+": Not exiting '"+t+"'; active mode is "+this.hn,this),this},hi:function(t){var i=this.hn||"default",n=t[i];return n?(o.debug(this.name+": Found callback for active mode",i,t),n(this.sn[this.hn||"default"])):o.debug(this.name+": No callback for active mode",i,t),this},cn:function(t){return!this.hn||this.fn(t)},fn:function(t){return this.hn===t},an:function(){this.un&&this.un.cancel()},dn:function(){var t=function(){delete this.sn[this.hn],this.hn=null}.bind(this);this.an(),this.timeout?this.un=this.v.defer(this.timeout,t):t()},Kt:function(){if(this.timeout&&!this.v)throw new Error("action queue is required if a timeout is specified")}},i.t=e},{Dt:16}],18:[function(t,i,n){function e(t){this.di=t&&t.di,this.state=t&&t.state,this.ln=t&&t.ln||s.mi,this.labels={}}var o=t("./Position"),s=t("./EditableLabel"),r=new(t("./Logger"))("NodeLabelSet");e.prototype={initialize:function(t){r.debug("initializing",t),t.filter(function(t){return!!t.label}).forEach(function(t){var i=this.gn(t.ni,t.label);this.labels[t.ni.id]=i,i.display()}.bind(this))},ii:function(t){r.debug("editing label for node "+t.id),this.pn(t).ii()},display:function(t){r.debug("displaying label for node "+t.id),this.pn(t).display()},Bi:function(){Object.values(this.labels).forEach(function(t){t.remove()}),this.labels={}},pn:function(t){var i;return this.labels[t.id]?(i=this.labels[t.id],r.info("reusing existing label for node "+t.id,i)):(i=this.gn(t),this.labels[t.id]=i,r.info("created new label for node "+t.id,i)),i},gn:function(t,i){return r.debug("Creating label",t),this.ln.create({text:i,di:this.di,Ut:function(){return new o({wn:t.Vi().ht()})},li:function(i){r.debug("saving label",t,i),this.state.Pi({id:t.id,label:i})}.bind(this)})},Kt:function(){if(!this.di)throw new Error("componentManager is required");if(!this.state)throw new Error("state is required")}},i.t=e},{vn:11,Dt:16,Qt:19}],19:[function(t,i,n){function e(t){if(!o.mn(t))throw new Error("invalid position object "+t);Object.assign(this,t)}var o=t("./utils");e.prototype={zt:function(t){if(t=Object.assign({width:0,height:0},t),this.Ft)return"position: absolute; left: "+this.Ft.x+"; top: "+this.Ft.y+";";if(this.bn)return"position: absolute; left: "+(this.bn.x-t.width)+"; top: "+this.bn.y+";";if(this.En)return"position: absolute; left: "+this.En.x+"; top: "+(this.En.y-t.height)+";";if(this.wn)return"position: absolute; left: "+(this.wn.x-t.width)+"; top: "+(this.wn.y-t.height)+";";throw new Error("invalid position object: "+this)}},i.t=e},{Bt:26}],20:[function(t,i,n){function e(t){o.apply(this,arguments),this.D=t?t.D:[]}var o=t("./Component");e.prototype=Object.assign(new o,{_t:function(t){this.D.forEach(function(t){t.reset()})}}),i.t=e},{nt:7}],21:[function(t,i,n){function e(t){o.apply(this,arguments),this._n=t&&t.text||"",this.wi=t&&t.wi||function(){}}var o=t("./Component");e.prototype=Object.assign(new o,{it:function(){return'<input type="text" value="'+this._n+'"></input>'},gi:function(){return this.Mt.getElementsByTagName("input")[0].value},Ct:function(t){this.wi()}}),i.t=e},{nt:7}],22:[function(t,i,n){function e(t){this.o=t&&t.o,this.s=t&&t.s,this.h=t&&t.h}var o=t("./utils");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",LABEL_PARAM_PREFIX="l_",e.prototype={Pi:function(t){var i;return(t=t||{}).hasOwnProperty("id")&&null!==t.id&&void 0!==t.id?i=t.id:(i=this.An(),this.h.set(NUM_NODES_PARAM,i+1)),t.color&&this.Cn(i,t.color),t.label&&this.yn(i,t.label),this.Mn(),i},Nn:function(t){var i=this.Rn(t),n=this.On().find(function(t){return this.Ln({Pn:i,Sn:t})}.bind(this)),e=this.h.get(LABEL_PARAM_PREFIX+t);return o.Mi({id:t,color:n&&n.replace(COLOR_PARAM_PREFIX,"#"),label:e&&decodeURIComponent(e)},{Ri:"id"})},Di:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this.h.has(e)?this.xn(e)|this.Rn(i):this.Rn(i),this.Gn(e,n),this.Mn()},O:function(){var t=[];if(this.h.has(NUM_NODES_PARAM))for(var i=0;i<this.h.get(NUM_NODES_PARAM);i++)t.push(this.Nn(i));return t},P:function(){return this.Dn().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.xn(t),o=e.toString(2).length,s=0;s<o;s++){var r=this.Rn(s);(e&r)===r&&n.push({source:i,target:s})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},yn:function(t,i){this.h.set(LABEL_PARAM_PREFIX+t,encodeURIComponent(i))},In:function(){return this.o+"?"+this.h.toString()},reset:function(){this.Bn().forEach(function(t){this.h.delete(t)}.bind(this)),this.Mn()},Ln:function(t){return t=this.jn(t),!!this.h.has(t.Sn)&&(this.xn(t.Sn)&t.Pn)===t.Pn},qn:function(t){t=this.jn(t);var i;i=this.h.has(t.Sn)?this.xn(t.Sn)|t.Pn:t.Pn,this.Gn(t.Sn,i)},kn:function(t){if(t=this.jn(t),!this.h.has(t.Sn))throw Error("Attempted to remove color "+t.Sn);var i=this.xn(t.Sn)&~t.Pn;0===i?this.h.delete(t.Sn):this.Gn(t.Sn,i)},xn:function(t){return parseInt(this.h.get(t),16)},Gn:function(t,i){this.h.set(t,i.toString(16))},Rn:function(t){return t<=30?1<<t:Math.pow(2,t)},jn:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{Pn:t.hasOwnProperty("bit")?t.Pn:this.Rn(t.Fn),Sn:t.hasOwnProperty("colorKey")?t.Sn:t.color.replace("#",COLOR_PARAM_PREFIX)}},On:function(){return this.Bn(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},Dn:function(){return this.Bn(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},Bn:function(t){t=t||function(){return!0};for(var i=[],n=this.h.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},An:function(){return this.h.has(NUM_NODES_PARAM)?parseInt(this.h.get(NUM_NODES_PARAM)):0},Cn:function(t,i){var n=this.Rn(t);this.On().forEach(function(t){this.Ln({Pn:n,Sn:t})&&this.kn({Pn:n,Sn:t})}.bind(this)),this.qn({Pn:n,color:i})},Mn:function(){this.s(this.In())}},i.t=e},{Bt:26}],23:[function(t,i,n){i.t={Un:"#db190f",Tn:"#f76402",zn:"#fbff14",Qn:"#28b92b",Xn:"#2826b5",Ci:"#2980B9",Kn:"#8c28b7",ai:"#00FF00",Ai:["#db190f","#f76402","#fbff14","#28b92b","#2826b5","#2980B9","#8c28b7"]}},{}],24:[function(t,i,n){function e(t){t&&(this.id=t.id,this.Xi=t.Xi)}function o(t){e.apply(this,arguments),t&&(this.Yi=t.Yi,this.color=t.color,this.Vi=t.Vi)}function s(){e.apply(this,arguments)}function r(){e.apply(this,arguments)}e.prototype={ki:function(){return!1},Wn:function(){return!1}},o.prototype=Object.assign(new e,{ki:function(){return!0},rt:function(){return this.Vi().rt()},ht:function(){return this.Vi().ht()},ut:function(){return this.Vi().ut()},ct:function(){return this.Vi().ct()},at:function(){return this.Vi().at()}}),s.prototype=Object.assign(new e,{Wn:function(){return!0}}),r.prototype=Object.assign(new e,{}),i.t={Node:o,Hn:s,NONE:new r}},{}],25:[function(t,i,n){var e=t("./Animator"),o=t("./ColorChangingGraph"),s=t("./ComponentManager"),r=t("./DisallowedEditMode"),h=t("./EditMode"),u=t("./Graph"),c=t("./GraphComponent"),a=(t("./GreulerAdapter"),t("./ImmutableGraph")),f=t("./NodeLabelSet"),d=t("./utils"),l=new(t("./Logger"))("graphfactory");i.t={Yn:function(t){l.debug("instantiating immmutable graph",t);var i=d.Vn(t.v),n=d.Vn(t.state),e=d.Vn(t.g),o=t.Yt||new f({di:t.di||this.Jn(t),state:n});return new a({state:n,g:e,v:i,Yt:o,R:t.R,L:t.L,yi:t.yi,_:t._,N:t.N})},Zn:function(t){l.debug("instantiating color changing graph",t);var i=d.Vn(t.v),n=d.Vn(t.state),e=d.Vn(t.g),s=t.Yt||new f({di:t.di||this.Jn(t),state:n});return new o({state:n,g:e,v:i,Yt:s,R:t.R,L:t.L,yi:t.yi,_:t._,N:t.N})},$n:function(t){l.debug("instantiating mutable graph",t);var i=d.Vn(t.v),n=d.Vn(t.state),e=d.Vn(t.g),o=t.Yt||new f({di:t.di||this.Jn(t),state:n});return new u({state:n,g:e,v:i,Yt:o,R:t.R,L:t.L,yi:t.yi,_:t._,N:t.N})},te:function(t){return t.C?this.Yn(t):t.M?this.Zn(t):this.$n(t)},l:function(t){var i,n=d.Vn(t.v),o=d.Vn(t.g),s=d.Vn(t.state),u=t.di=this.Jn(t),a=new f({di:u,state:s});return i=t.C||t.M?new r:new h({g:o,Ht:new e({v:n}),Yt:a,A:t.A}),new c(Object.assign({S:this.te(t),g:o,ji:i,width:t.width,height:t.height,m:t.m},this.ie(t)))},Jn:function(t){return new s({v:d.Vn(t.v),jt:this.ie(t),document:d.Vn(t.document)})},ie:function(t){return{v:d.Vn(t.v)}}}},{ne:3,ee:6,oe:8,se:9,Wt:10,lt:12,re:13,he:14,ue:15,Dt:16,ce:18,Bt:26}],26:[function(t,i,n){i.t={Gi:function(t,i){var n=t.x-i.x,e=t.y-i.y;return Math.sqrt(n*n+e*e)},Mi:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.Ri&&(i.Ri.constructor===Array?i.Ri.forEach(function(i){n[i]=t[i]}):n[i.Ri]=t[i.Ri]),n},Nt:function(t){return t&&t.touches&&t.touches.length?Object.assign(t,{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,screenX:t.touches[0].screenX,screenY:t.touches[0].screenY}):t},mn:function(t){return!(!t||"object"!=typeof t||Array.isArray(t))&&1===Object.keys(t).filter(function(i){return!!t[i]}).length},_i:function(t,i){var n=t.indexOf(i);if(n>=0){for(var e=[],o=n;o<t.length;o++)e.push(t[o]);for(o=0;o<n;o++)e.push(t[o]);return e}return t},Vn:function(t){if(!t)throw new Error("missing required object");return t}}},{}]},{},[1]);