!function t(i,n,e){function r(s,h){if(!n[s]){if(!i[s]){var u="function"==typeof require&&require;if(!h&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[s]={t:{}};i[s][0].call(c.t,function(t){var n=i[s][1][t];return r(n||t)},c,c.t,t,i,n,e)}return n[s].t}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)r(e[s]);return r}({1:[function(t,i,n){(function(i){var n,e=i.i,r=t("./src/GreulerAdapter"),o=t("./src/Graph"),s=t("./src/Animator"),h=t("./src/UrlState"),u=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),f=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));u<700&&(n=Math.floor(Math.min(u,f)*(1/15))),i.o=new r(e),i.s=new o({o:adapter,h:new s,state:new h({u:window.location.protocol+"//"+window.location.host+window.location.pathname,l:window.history.replaceState.bind(window.history,{},""),_:new URLSearchParams(window.location.search)})},{width:u,height:f,g:n,A:.1,p:250}),i.s.v(document.getElementById("main-graph"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{N:2,R:4,O:5,M:7}],2:[function(t,i,n){(function(t){function n(i){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t)}function e(t,i){this.h=t,this.m=i,this.P=0,this.interval=100,this.C=function(){return!0}}n.prototype={I:function(){return new e(this,Array.prototype.slice.call(arguments))}},e.prototype={every:function(t){return this.interval=t,this},D:function(t){return this.C=t,this},play:function(){var t=function(){this.C()&&(this.m[this.P](),this.P=(this.P+1)%this.m.length,this.h.setTimeout(t,this.interval))}.bind(this);t()}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){(function(t){function n(i,n){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t),this.U=n&&n.U||250,this.L=0,this.F=0,this.G=!1}n.prototype={S:function(){},K:function(){},v:function(t){t.addEventListener("mouseup",function(t){this.F++,this.G?this.G=!1:this.S(t)}.bind(this)),t.addEventListener("mousedown",function(t){var i=++this.L;this.setTimeout(function(){this.L===i&&this.F===this.L-1&&(this.G=!0,this.K(t))}.bind(this),this.U)}.bind(this)),this.k(t)},k:function(t){}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,i,n){function e(t,i){r.apply(this,arguments),this.o=t&&t.o,this.h=t&&t.h,this.state=t&&t.state,this.X={},this.width=i&&i.width,this.height=i&&i.height,this.g=i&&i.g,this.A=i&&i.A,this.p=i&&i.p||100,this.j=null,this.q=[],this.B={}}var r=t("./Component"),o=t("./colors"),s=t("./utils"),h=(t("./Logger"),[o.T,o.H,o.W,o.V,o.Y,o.J,o.Z]);e.prototype=Object.assign(new r,{k:function(t){this.$(),this.o.initialize(t,s.tt({width:this.width,height:this.height,it:this.state.nt().map(function(t){return s.tt({id:t.id,color:t.color||h[0],label:"",size:this.g},{et:["id","label"]})}.bind(this)),rt:this.state.ot()}))},S:function(t){var i=this.o.st(t,this.A);this.ht()?i.ut()&&i.id!==this.j.id?(this.o.ft(this.j,i),this.state.ct(this.j.id,i.id)):this.at():i.ut()?this.dt(i):this.lt()},K:function(t){if(!this.ht()){var i=this.o.st(t,this.A);i.ut()&&this.wt(i)}},dt:function(t){var i=this._t(t.id),n=h[i];this.o.Et(t,n),this.X[t.id]=i,this.state.gt(t.id,n)},lt:function(){var t=this.state.At({color:h[0]}),i=s.tt({id:t,color:h[0],label:"",size:this.g},{et:["id","label"]});this.o.pt(i)},_t:function(t){return((this.X[t]||0)+1)%h.length},ht:function(){return!!this.j},wt:function(t){if(!this.h)throw new Error("adapter is not present");this.j=t,this.q=this.o.vt(function(i){return i.id!==t.id}),this.h.I(this.Nt.bind(this),this.bt.bind(this)).every(this.p).D(this.ht.bind(this)).play()},at:function(){this.j=null,this.bt(),this.B={}},$:function(){if(!this.o)throw new Error("adapter is not present");if(!this.h)throw new Error("animator is not present");if(!this.h)throw new Error("state is not present")},Nt:function(){this.q.forEach(function(t){this.B[t.id]||(this.B[t.id]=t.color),this.o.Et(t,o.Rt)}.bind(this))},bt:function(){this.q.forEach(function(t){this.B[t.id]&&this.o.Et(t,this.B[t.id])}.bind(this))}}),i.t=e},{Ot:3,Mt:6,yt:8,Pt:10}],5:[function(t,i,n){function e(t){this.i=t}function r(t){return[t.x+t.width/2,t.y+t.height/2]}var o=t("./graphelements"),s=t("./utils"),h=t("./Logger");e.prototype={initialize:function(t,i){i=i||{},this.Ct=this.i(s.tt({target:"#"+t.id,width:i.width,height:i.height,data:s.tt({it:i.it&&i.it.map(this.It),links:i.rt})})).update(),this.s=this.Ct.s},pt:function(t){this.s.pt(this.It(t));this.Ct=this.Ct.update()},ft:function(t,i){this.s.ft({source:t.id,target:i.id});this.Ct=this.Ct.update()},Et:function(t,i){if(t.Dt)t.Dt.setAttribute("fill",i);else if(t.id){var n=this.s.Ut({id:t.id});this.Lt(n).setAttribute("fill",i)}else h.error("Got unexpected target node",t)},st:function(t,i){return this.Ft(t,i)||o.NONE},vt:function(t){return t=t||function(){return!0},this.s.Gt(t).map(function(t){var i=this.Lt(t);return new o.Node({id:t.id,St:t,Dt:i,color:i.getAttribute("fill")})}.bind(this))},It:function(t){return s.tt({id:t.id,fill:t.color,label:t.label||"",r:t.size},{et:["id","label"]})},Lt:function(t){return this.Ct.Kt[0][0].childNodes[t.index].getElementsByTagName("circle")[0]},Ft:function(t,i){i=i||0;var n=t.clientX,e=t.clientY,o=this.vt(function(t){var r=t.x-i*t.width,o=t.x+(1+i)*t.width,s=t.y-i*t.height,h=t.y+(1+i)*t.height;return r<=n&&n<=o&&s<=e&&e<=h});return o&&o.length?(o.sort(function(t,i){return s.kt(r(t.St),[n,e])-s.kt(r(i.St),[n,e])}),o[0]):void 0}},i.t=e},{Mt:6,Xt:9,Pt:10}],6:[function(t,i,n){(function(t){function n(){}n.prototype={debug:function(t,i){this.zt.apply(this,["DEBUG"]+arguments)},warn:function(t,i){this.zt.apply(this,["WARN"]+arguments)},error:function(t,i){this.zt.apply(this,["ERROR"]+arguments)},zt:function(i,n){var e=Array.prototype.splice.call(arguments,1,arguments.length);t.console.log("["+i+"] "+n),Array.prototype.forEach.call(e,function(t){console.log(t)})}},i.t=new n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,i,n){function e(t){this.u=t&&t.u,this.l=t&&t.l,this._=t&&t._}var r=t("./utils");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",e.prototype={At:function(t){var i=this.jt();return this._.set(NUM_NODES_PARAM,i+1),this.qt(),t&&t.color&&this.gt(i,t.color),i},gt:function(t,i){var n=this.xt(t);this.Bt().forEach(function(t){this.Tt({Ht:n,Wt:t})&&this.Vt({Ht:n,Wt:t})}.bind(this)),this.Yt({Ht:n,color:i}),this.qt()},ct:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this._.has(e)?this.Jt(e)|this.xt(i):this.xt(i),this.Qt(e,n),this.qt()},nt:function(){var t=[];if(this._.has(NUM_NODES_PARAM))for(var i=this.Bt(),n=0;n<this._.get(NUM_NODES_PARAM);n++){var e=this.xt(n),o=i.find(function(t){return this.Tt({Ht:e,Wt:t})}.bind(this));t.push(r.tt({id:n,color:o&&o.replace(COLOR_PARAM_PREFIX,"#")},{et:"id"}))}return t},ot:function(){return this.Zt().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.Jt(t),r=e.toString(2).length,o=0;o<r;o++){var s=this.xt(o);(e&s)===s&&n.push({source:i,target:o})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},$t:function(){return this.u+"?"+this._.toString()},Tt:function(t){return t=this.ti(t),!!this._.has(t.Wt)&&(this.Jt(t.Wt)&t.Ht)===t.Ht},Yt:function(t){t=this.ti(t);var i;i=this._.has(t.Wt)?this.Jt(t.Wt)|t.Ht:t.Ht,this.Qt(t.Wt,i)},Vt:function(t){if(t=this.ti(t),!this._.has(t.Wt))throw Error("Attempted to remove color "+t.Wt);var i=this.Jt(t.Wt)&~t.Ht;0===i?this._.delete(t.Wt):this.Qt(t.Wt,i)},Jt:function(t){return parseInt(this._.get(t),16)},Qt:function(t,i){this._.set(t,i.toString(16))},xt:function(t){return t<=30?1<<t:Math.pow(2,t)},ti:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{Ht:t.hasOwnProperty("bit")?t.Ht:this.xt(t.ii),Wt:t.hasOwnProperty("colorKey")?t.Wt:t.color.replace("#",COLOR_PARAM_PREFIX)}},Bt:function(){return this.ni(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},Zt:function(){return this.ni(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},ni:function(t){for(var i=[],n=this._.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},jt:function(){return this._.has(NUM_NODES_PARAM)?parseInt(this._.get(NUM_NODES_PARAM)):0},qt:function(){this.l(this.$t())}},i.t=e},{Pt:10}],8:[function(t,i,n){i.t={W:"#db190f",V:"#f76402",Y:"#fbff14",J:"#28b92b",Z:"#2826b5",T:"#2980B9",H:"#8c28b7",Rt:"#00FF00"}},{}],9:[function(t,i,n){function e(t){t&&(this.id=t.id,this.Dt=t.Dt)}function r(t){e.apply(this,arguments),t&&(this.St=t.St,this.color=t.color)}function o(){e.apply(this,arguments)}function s(){e.apply(this,arguments)}e.prototype={ut:function(){return!1},ei:function(){return!1}},r.prototype=Object.assign(new e,{ut:function(){return!0}}),o.prototype=Object.assign(new e,{ei:function(){return!0}}),s.prototype=Object.assign(new e,{}),i.t={Node:r,ri:o,NONE:new s}},{}],10:[function(t,i,n){i.t={kt:function(t,i){if(t.length!=i.length)throw new Error(t.length+" != "+i.length);return Math.sqrt(t.map(function(t,n){return t-i[n]}).map(function(t){return t*t}).reduce(function(t,i){return t+i}))},tt:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.et&&(i.et.constructor===Array?i.et.forEach(function(i){n[i]=t[i]}):n[i.et]=t[i.et]),n}}},{}]},{},[1]);