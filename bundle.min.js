!function t(i,n,e){function r(o,h){if(!n[o]){if(!i[o]){var u="function"==typeof require&&require;if(!h&&u)return u(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[o]={t:{}};i[o][0].call(f.t,function(t){var n=i[o][1][t];return r(n||t)},f,f.t,t,i,n,e)}return n[o].t}for(var s="function"==typeof require&&require,o=0;o<e.length;o++)r(e[o]);return r}({1:[function(t,i,n){(function(i){var n,e=i.i,r=t("./src/GreulerAdapter"),s=t("./src/Graph"),o=t("./src/Animator"),h=t("./src/UrlState"),u=new(t("./src/ActionQueue")),c=Math.floor((window.innerWidth>0?window.innerWidth:screen.width)-40),f=Math.floor(.75*(window.innerHeight>0?window.innerHeight:screen.height));c<700&&(n=Math.floor(Math.min(c,f)*(1/15))),i.s=new r(e),i.o=new s({h:u,s:adapter,u:new o({h:u}),state:new h({l:window.location.protocol+"//"+window.location.host+window.location.pathname,_:window.history.replaceState.bind(window.history,{},""),g:new URLSearchParams(window.location.search)})},{width:c,height:f,A:n,p:.1,v:250}),i.o.N(document.getElementById("main-graph"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{R:2,O:3,m:6,M:7,P:9}],2:[function(t,i,n){(function(t){function n(i){this.setTimeout=i&&i.setTimeout||t.setTimeout.bind(t)}n.prototype={defer:function(t,i){1==arguments.length&&(i=t,t=1),this.setTimeout(i,t)}},i.t=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){function e(t){this.h=t&&t.h}function r(t,i){this.h=t,this.C=i,this.I=0,this.interval=100,this.D=function(){return!0}}e.prototype={U:function(){return this.L(),new r(this.h,Array.prototype.slice.call(arguments))},L:function(){if(!this.h)throw Error("ActionQueue is required")}},r.prototype={every:function(t){return this.interval=t,this},S:function(t){return this.D=t,this},play:function(){var t=function(){this.D()&&(this.C[this.I](),this.I=(this.I+1)%this.C.length,this.h.defer(this.interval,t))}.bind(this);t()}},i.t=e},{}],4:[function(t,i,n){function e(t){this.dimensions=t}e.prototype={F:function(t){var i=this.dimensions.right-this.dimensions.left,n=this.dimensions.bottom-this.dimensions.top;return new e({left:this.dimensions.left-i*t,right:this.dimensions.right+i*t,top:this.dimensions.top-n*t,bottom:this.dimensions.bottom+i*t})},translate:function(t){return new e({left:this.dimensions.left+t.x,right:this.dimensions.right+t.x,top:this.dimensions.top+t.y,bottom:this.dimensions.bottom+t.y})},contains:function(t){return this.dimensions.left<=t.x&&t.x<=this.dimensions.right&&this.dimensions.top<=t.y&&t.y<=this.dimensions.bottom}},i.t=e},{}],5:[function(t,i,n){function e(t,i){this.h=t&&t.h,this.G=i&&i.G||250,this.k=0,this.B=0,this.K=!1}e.prototype={q:function(){},X:function(){},N:function(t){this.j(),t.addEventListener("mouseup",function(t){this.B++,this.K?this.K=!1:this.q(t)}.bind(this)),t.addEventListener("mousedown",function(t){var i=++this.k;this.h.defer(this.G,function(){this.k===i&&this.B===this.k-1&&(this.K=!0,this.X(t))}.bind(this))}.bind(this)),this.T(t)},T:function(t){},j:function(){if(!this.h)throw Error("actionQueue is required")}},i.t=e},{}],6:[function(t,i,n){function e(t,i){r.apply(this,arguments),this.s=t&&t.s,this.u=t&&t.u,this.state=t&&t.state,this.H={},this.width=i&&i.width,this.height=i&&i.height,this.A=i&&i.A,this.p=i&&i.p,this.v=i&&i.v||100,this.W=null,this.V=[],this.Y={}}var r=t("./Component"),s=t("./colors"),o=t("./utils"),h=(t("./Logger"),[s.J,s.Z,s.$,s.tt,s.it,s.nt,s.et]);e.prototype=Object.assign(new r,{T:function(t){this.j(),this.s.initialize(t,o.rt({width:this.width,height:this.height,st:this.state.ot().map(function(t){return o.rt({id:t.id,color:t.color||h[0],label:"",size:this.A},{ht:["id","label"]})}.bind(this)),ut:this.state.ct()}))},q:function(t){var i=this.s.ft(t,this.p);this.at()?i.dt()&&i.id!==this.W.id?(this.s.lt(this.W,i),this.state.wt(this.W.id,i.id)):this._t():i.dt()?this.Et(i):this.gt()},X:function(t){if(!this.at()){var i=this.s.ft(t,this.p);i.dt()&&this.At(i)}},Et:function(t){var i=this.pt(t.id),n=h[i];this.s.vt(t,n),this.H[t.id]=i,this.state.Nt(t.id,n)},gt:function(){var t=this.state.bt({color:h[0]}),i=o.rt({id:t,color:h[0],label:"",size:this.A},{ht:["id","label"]});this.s.Rt(i)},pt:function(t){return((this.H[t]||0)+1)%h.length},at:function(){return!!this.W},At:function(t){if(!this.u)throw new Error("adapter is not present");this.W=t,this.V=this.s.yt(function(i){return i.id!==t.id}),this.u.U(this.Ot.bind(this),this.Mt.bind(this)).every(this.v).S(this.at.bind(this)).play()},_t:function(){this.W=null,this.Mt(),this.Y={}},j:function(){if(!this.s)throw new Error("adapter is not present");if(!this.u)throw new Error("animator is not present");if(!this.u)throw new Error("state is not present")},Ot:function(){this.V.forEach(function(t){this.Y[t.id]||(this.Y[t.id]=t.color),this.s.vt(t,s.Pt)}.bind(this))},Mt:function(){this.V.forEach(function(t){this.Y[t.id]&&this.s.vt(t,this.Y[t.id])}.bind(this))}}),i.t=e},{Ct:5,It:8,Dt:10,Ut:12}],7:[function(t,i,n){function e(t){this.i=t}function r(t){var i=t.bounds.Lt-t.bounds.x,n=t.bounds.St-t.bounds.y;return{x:t.bounds.x+i/2,y:t.bounds.y+n/2}}var s=t("./graphelements"),o=t("./utils"),h=t("./BoundingBox"),u=t("./Logger");e.prototype={initialize:function(t,i){i=i||{},this.Ft=this.i(o.rt({target:"#"+t.id,width:i.width,height:i.height,data:o.rt({st:i.st&&i.st.map(this.Gt),links:i.ut})})).update(),this.o=this.Ft.o},Rt:function(t){this.o.Rt(this.Gt(t));this.Ft=this.Ft.update()},lt:function(t,i){this.o.lt({source:t.id,target:i.id});this.Ft=this.Ft.update()},vt:function(t,i){if(t.xt)t.xt.setAttribute("fill",i);else if(t.id){var n=this.o.kt({id:t.id});this.Bt(n).setAttribute("fill",i)}else u.error("Got unexpected target node",t)},ft:function(t,i){return this.Kt(t,i)||s.NONE},yt:function(t){return t=t||function(){return!0},this.o.qt(t).map(function(t){var i=this.Bt(t);return new s.Node({id:t.id,Xt:t,xt:i,color:i.getAttribute("fill")})}.bind(this))},Gt:function(t){return o.rt({id:t.id,fill:t.color,label:t.label||"",r:t.size},{ht:["id","label"]})},Bt:function(t){return this.Ft.zt[0][0].childNodes[t.index].getElementsByTagName("circle")[0]},Kt:function(t,i){i=i||0;var n=this.Ft.root[0][0].getBoundingClientRect(),e={x:t.clientX,y:t.clientY},s=this.yt(function(t){return new h({left:t.bounds.x,right:t.bounds.Lt,top:t.bounds.y,bottom:t.bounds.St}).F(i).translate({x:n.left,y:n.top}).contains(e)});return s&&s.length?(s.sort(function(t,i){return o.jt(r(t.Xt),e)-o.jt(r(i.Xt),e)}),s[0]):void 0}},i.t=e},{Qt:4,It:8,Tt:11,Ut:12}],8:[function(t,i,n){(function(t){function n(){}n.prototype={debug:function(t,i){this.Ht.apply(this,["DEBUG"].concat(Array.prototype.splice.call(arguments,0)))},warn:function(t,i){this.Ht.apply(this,["WARN"].concat(Array.prototype.splice.call(arguments,0)))},error:function(t,i){this.Ht.apply(this,["ERROR"].concat(Array.prototype.splice.call(arguments,0)))},Ht:function(){t.console.log.apply(t.console.log,arguments)}},i.t=new n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,i,n){function e(t){this.l=t&&t.l,this._=t&&t._,this.g=t&&t.g}var r=t("./utils");NUM_NODES_PARAM="n",COLOR_PARAM_PREFIX="c_",EDGE_PARAM_PREFIX="e_",e.prototype={bt:function(t){var i=this.Wt();return this.g.set(NUM_NODES_PARAM,i+1),this.Vt(),t&&t.color&&this.Nt(i,t.color),i},Nt:function(t,i){var n=this.Yt(t);this.Jt().forEach(function(t){this.Zt({$t:n,ti:t})&&this.ii({$t:n,ti:t})}.bind(this)),this.ni({$t:n,color:i}),this.Vt()},wt:function(t,i){var n,e=EDGE_PARAM_PREFIX+t;n=this.g.has(e)?this.ei(e)|this.Yt(i):this.Yt(i),this.ri(e,n),this.Vt()},ot:function(){var t=[];if(this.g.has(NUM_NODES_PARAM))for(var i=this.Jt(),n=0;n<this.g.get(NUM_NODES_PARAM);n++){var e=this.Yt(n),s=i.find(function(t){return this.Zt({$t:e,ti:t})}.bind(this));t.push(r.rt({id:n,color:s&&s.replace(COLOR_PARAM_PREFIX,"#")},{ht:"id"}))}return t},ct:function(){return this.si().map(function(t){for(var i=parseInt(t.replace(EDGE_PARAM_PREFIX,"")),n=[],e=this.ei(t),r=e.toString(2).length,s=0;s<r;s++){var o=this.Yt(s);(e&o)===o&&n.push({source:i,target:s})}return n}.bind(this)).reduce(function(t,i){return t.concat(i)},[])},oi:function(){return this.l+"?"+this.g.toString()},Zt:function(t){return t=this.hi(t),!!this.g.has(t.ti)&&(this.ei(t.ti)&t.$t)===t.$t},ni:function(t){t=this.hi(t);var i;i=this.g.has(t.ti)?this.ei(t.ti)|t.$t:t.$t,this.ri(t.ti,i)},ii:function(t){if(t=this.hi(t),!this.g.has(t.ti))throw Error("Attempted to remove color "+t.ti);var i=this.ei(t.ti)&~t.$t;0===i?this.g.delete(t.ti):this.ri(t.ti,i)},ei:function(t){return parseInt(this.g.get(t),16)},ri:function(t,i){this.g.set(t,i.toString(16))},Yt:function(t){return t<=30?1<<t:Math.pow(2,t)},hi:function(t){if(!t.hasOwnProperty("bit")&&!t.hasOwnProperty("nodeId"))throw Error("bit or nodeId is required");if(!t.hasOwnProperty("color")&&!t.hasOwnProperty("colorKey"))throw Error("color or colorKey is required");return{$t:t.hasOwnProperty("bit")?t.$t:this.Yt(t.ui),ti:t.hasOwnProperty("colorKey")?t.ti:t.color.replace("#",COLOR_PARAM_PREFIX)}},Jt:function(){return this.ci(function(t){return t.startsWith(COLOR_PARAM_PREFIX)})},si:function(){return this.ci(function(t){return t.startsWith(EDGE_PARAM_PREFIX)})},ci:function(t){for(var i=[],n=this.g.keys(),e=n.next();!e.done;)t(e.value)&&i.push(e.value),e=n.next();return i},Wt:function(){return this.g.has(NUM_NODES_PARAM)?parseInt(this.g.get(NUM_NODES_PARAM)):0},Vt:function(){this._(this.oi())}},i.t=e},{Ut:12}],10:[function(t,i,n){i.t={$:"#db190f",tt:"#f76402",it:"#fbff14",nt:"#28b92b",et:"#2826b5",J:"#2980B9",Z:"#8c28b7",Pt:"#00FF00"}},{}],11:[function(t,i,n){function e(t){t&&(this.id=t.id,this.xt=t.xt)}function r(t){e.apply(this,arguments),t&&(this.Xt=t.Xt,this.color=t.color)}function s(){e.apply(this,arguments)}function o(){e.apply(this,arguments)}e.prototype={dt:function(){return!1},fi:function(){return!1}},r.prototype=Object.assign(new e,{dt:function(){return!0}}),s.prototype=Object.assign(new e,{fi:function(){return!0}}),o.prototype=Object.assign(new e,{}),i.t={Node:r,ai:s,NONE:new o}},{}],12:[function(t,i,n){i.t={jt:function(t,i){var n=t.x-i.x,e=t.y-i.y;return Math.sqrt(n*n+e*e)},rt:function(t,i){var n={};return Object.keys(t).forEach(function(i){t[i]&&(n[i]=t[i])}),i&&i.ht&&(i.ht.constructor===Array?i.ht.forEach(function(i){n[i]=t[i]}):n[i.ht]=t[i.ht]),n}}},{}]},{},[1]);